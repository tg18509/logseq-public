<!DOCTYPE html>
<head><meta charset="utf-8"></meta>
 <meta content="minimum-scale=1, initial-scale=1, width=device-width, shrink-to-fit=no" name="viewport"></meta>
 <link type="text/css" href="static/css/tabler-icons.min.css" rel="stylesheet"></link>
 <link type="text/css" href="static/css/style.css" rel="stylesheet"></link>
 <link type="text/css" href="static/css/custom.css" rel="stylesheet"></link>
 <link type="text/css" href="static/css/export.css" rel="stylesheet"></link>
 <link href="static/img/logo.png" type="image/png" rel="shortcut icon"></link>
 <link href="static/img/logo.png" sizes="192x192" rel="shortcut icon"></link>
 <link href="static/img/logo.png" rel="apple-touch-icon"></link>
 <meta name="apple-mobile-web-app-title"></meta>
 <meta name="apple-mobile-web-app-capable" content="yes"></meta>
 <meta name="apple-touch-fullscreen" content="yes"></meta>
 <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"></meta>
 <meta name="mobile-web-app-capable" content="yes"></meta>
 <meta property="og:title"></meta>
 <meta content="site" property="og:type"></meta>
  <meta content="static/img/logo.png" property="og:image"></meta>
 <meta property="og:description"></meta>
 <title></title>
 <meta property="og:site_name"></meta>
 <meta></meta>
</head>
 <body><div id="root"></div>
 <script>window.logseq_db="[logseq____&quot;~#datascript/DBlogseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;~:schemalogseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;~:ast/versionlogseq____&quot;,[logseq____&quot;^ logseq____&quot;],logseq____&quot;~:file/contentlogseq____&quot;,[logseq____&quot;^ logseq____&quot;],logseq____&quot;~:block/properties-text-valueslogseq____&quot;,[logseq____&quot;^ logseq____&quot;],logseq____&quot;~:block/aliaslogseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;~:db/valueTypelogseq____&quot;,logseq____&quot;~:db.type/reflogseq____&quot;,logseq____&quot;~:db/cardinalitylogseq____&quot;,logseq____&quot;~:db.cardinality/manylogseq____&quot;],logseq____&quot;~:block/pre-block?logseq____&quot;,[logseq____&quot;^ logseq____&quot;],logseq____&quot;~:block/uuidlogseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;~:db/uniquelogseq____&quot;,logseq____&quot;~:db.unique/identitylogseq____&quot;],logseq____&quot;~:block/prioritylogseq____&quot;,[logseq____&quot;^ logseq____&quot;],logseq____&quot;~:block/propertieslogseq____&quot;,[logseq____&quot;^ logseq____&quot;],logseq____&quot;~:block/journal?logseq____&quot;,[logseq____&quot;^ logseq____&quot;],logseq____&quot;~:block/namespacelogseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^6logseq____&quot;,logseq____&quot;^7logseq____&quot;],logseq____&quot;~:block/updated-atlogseq____&quot;,[logseq____&quot;^ logseq____&quot;],logseq____&quot;~:block/repeated?logseq____&quot;,[logseq____&quot;^ logseq____&quot;],logseq____&quot;~:db/typelogseq____&quot;,[logseq____&quot;^ logseq____&quot;],logseq____&quot;~:file/handlelogseq____&quot;,[logseq____&quot;^ logseq____&quot;],logseq____&quot;~:block/leftlogseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^6logseq____&quot;,logseq____&quot;^7logseq____&quot;,logseq____&quot;~:db/indexlogseq____&quot;,true],logseq____&quot;~:block/refslogseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^6logseq____&quot;,logseq____&quot;^7logseq____&quot;,logseq____&quot;^8logseq____&quot;,logseq____&quot;^9logseq____&quot;],logseq____&quot;~:block/scheduledlogseq____&quot;,[logseq____&quot;^ logseq____&quot;],logseq____&quot;~:block/properties-orderlogseq____&quot;,[logseq____&quot;^ logseq____&quot;],logseq____&quot;~:block/created-atlogseq____&quot;,[logseq____&quot;^ logseq____&quot;],logseq____&quot;~:block/deadlinelogseq____&quot;,[logseq____&quot;^ logseq____&quot;],logseq____&quot;~:block/collapsed?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^Glogseq____&quot;,true],logseq____&quot;~:block/journal-daylogseq____&quot;,[logseq____&quot;^ logseq____&quot;],logseq____&quot;~:block/formatlogseq____&quot;,[logseq____&quot;^ logseq____&quot;],logseq____&quot;~:block/tagslogseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^6logseq____&quot;,logseq____&quot;^7logseq____&quot;,logseq____&quot;^8logseq____&quot;,logseq____&quot;^9logseq____&quot;],logseq____&quot;~:block/contentlogseq____&quot;,[logseq____&quot;^ logseq____&quot;],logseq____&quot;~:recent/pageslogseq____&quot;,[logseq____&quot;^ logseq____&quot;],logseq____&quot;~:block/macroslogseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^6logseq____&quot;,logseq____&quot;^7logseq____&quot;,logseq____&quot;^8logseq____&quot;,logseq____&quot;^9logseq____&quot;],logseq____&quot;~:db/identlogseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^logseq____&lt;logseq____&quot;,logseq____&quot;^=logseq____&quot;],logseq____&quot;~:block/path-refslogseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^6logseq____&quot;,logseq____&quot;^7logseq____&quot;,logseq____&quot;^8logseq____&quot;,logseq____&quot;^9logseq____&quot;],logseq____&quot;~:block/parentlogseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^6logseq____&quot;,logseq____&quot;^7logseq____&quot;,logseq____&quot;^Glogseq____&quot;,true],logseq____&quot;~:block/typelogseq____&quot;,[logseq____&quot;^ logseq____&quot;],logseq____&quot;~:block/pagelogseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^6logseq____&quot;,logseq____&quot;^7logseq____&quot;,logseq____&quot;^Glogseq____&quot;,true],logseq____&quot;~:block/namelogseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^logseq____&lt;logseq____&quot;,logseq____&quot;^=logseq____&quot;],logseq____&quot;~:file/pathlogseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^logseq____&lt;logseq____&quot;,logseq____&quot;^=logseq____&quot;],logseq____&quot;~:block/filelogseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^6logseq____&quot;,logseq____&quot;^7logseq____&quot;],logseq____&quot;~:block/markerlogseq____&quot;,[logseq____&quot;^ logseq____&quot;],logseq____&quot;~:block/original-namelogseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^logseq____&lt;logseq____&quot;,logseq____&quot;^=logseq____&quot;],logseq____&quot;~:schema/versionlogseq____&quot;,[logseq____&quot;^ logseq____&quot;]],logseq____&quot;~:datomslogseq____&quot;,[logseq____&quot;~#listlogseq____&quot;,[[logseq____&quot;~#datascript/Datomlogseq____&quot;,[1,logseq____&quot;^12logseq____&quot;,2,536870913]],[logseq____&quot;^15logseq____&quot;,[2,logseq____&quot;^@logseq____&quot;,false,536870914]],[logseq____&quot;^15logseq____&quot;,[2,logseq____&quot;^Ylogseq____&quot;,logseq____&quot;cardlogseq____&quot;,536870913]],[logseq____&quot;^15logseq____&quot;,[2,logseq____&quot;^11logseq____&quot;,logseq____&quot;cardlogseq____&quot;,536870913]],[logseq____&quot;^15logseq____&quot;,[2,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u900e966b-7ec8-473d-9320-fae043da642dlogseq____&quot;,536870914]],[logseq____&quot;^15logseq____&quot;,[3,logseq____&quot;^@logseq____&quot;,false,536870914]],[logseq____&quot;^15logseq____&quot;,[3,logseq____&quot;^Ylogseq____&quot;,logseq____&quot;canceledlogseq____&quot;,536870914]],[logseq____&quot;^15logseq____&quot;,[3,logseq____&quot;^11logseq____&quot;,logseq____&quot;CANCELEDlogseq____&quot;,536870914]],[logseq____&quot;^15logseq____&quot;,[3,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u551798e6-a665-4548-b175-990526863889logseq____&quot;,536870914]],[logseq____&quot;^15logseq____&quot;,[4,logseq____&quot;^@logseq____&quot;,false,536870914]],[logseq____&quot;^15logseq____&quot;,[4,logseq____&quot;^Ylogseq____&quot;,logseq____&quot;todologseq____&quot;,536870914]],[logseq____&quot;^15logseq____&quot;,[4,logseq____&quot;^11logseq____&quot;,logseq____&quot;TODOlogseq____&quot;,536870914]],[logseq____&quot;^15logseq____&quot;,[4,logseq____&quot;^;logseq____&quot;,logseq____&quot;~uf47c6140-0bda-4ac1-8245-4abf1ee09295logseq____&quot;,536870914]],[logseq____&quot;^15logseq____&quot;,[5,logseq____&quot;^@logseq____&quot;,false,536870914]],[logseq____&quot;^15logseq____&quot;,[5,logseq____&quot;^Ylogseq____&quot;,logseq____&quot;nowlogseq____&quot;,536870914]],[logseq____&quot;^15logseq____&quot;,[5,logseq____&quot;^11logseq____&quot;,logseq____&quot;NOWlogseq____&quot;,536870914]],[logseq____&quot;^15logseq____&quot;,[5,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u313f1d3a-5988-4bac-b6ca-1e00f0828468logseq____&quot;,536870914]],[logseq____&quot;^15logseq____&quot;,[6,logseq____&quot;^@logseq____&quot;,false,536870914]],[logseq____&quot;^15logseq____&quot;,[6,logseq____&quot;^Ylogseq____&quot;,logseq____&quot;laterlogseq____&quot;,536870914]],[logseq____&quot;^15logseq____&quot;,[6,logseq____&quot;^11logseq____&quot;,logseq____&quot;LATERlogseq____&quot;,536870914]],[logseq____&quot;^15logseq____&quot;,[6,logseq____&quot;^;logseq____&quot;,logseq____&quot;~uf882b30b-6828-4a29-8287-34221a0bdabelogseq____&quot;,536870914]],[logseq____&quot;^15logseq____&quot;,[7,logseq____&quot;^@logseq____&quot;,false,536870914]],[logseq____&quot;^15logseq____&quot;,[7,logseq____&quot;^Ylogseq____&quot;,logseq____&quot;donelogseq____&quot;,536870914]],[logseq____&quot;^15logseq____&quot;,[7,logseq____&quot;^11logseq____&quot;,logseq____&quot;DONElogseq____&quot;,536870914]],[logseq____&quot;^15logseq____&quot;,[7,logseq____&quot;^;logseq____&quot;,logseq____&quot;~ub29e4ad9-0e86-45d9-b193-36245f1bcc51logseq____&quot;,536870914]],[logseq____&quot;^15logseq____&quot;,[8,logseq____&quot;^@logseq____&quot;,false,536870914]],[logseq____&quot;^15logseq____&quot;,[8,logseq____&quot;^Ylogseq____&quot;,logseq____&quot;doinglogseq____&quot;,536870914]],[logseq____&quot;^15logseq____&quot;,[8,logseq____&quot;^11logseq____&quot;,logseq____&quot;DOINGlogseq____&quot;,536870914]],[logseq____&quot;^15logseq____&quot;,[8,logseq____&quot;^;logseq____&quot;,logseq____&quot;~ua026f4cd-2516-4d21-8711-92f04e29465dlogseq____&quot;,536870914]],[logseq____&quot;^15logseq____&quot;,[9,logseq____&quot;^@logseq____&quot;,false,536870914]],[logseq____&quot;^15logseq____&quot;,[9,logseq____&quot;^Ylogseq____&quot;,logseq____&quot;in-progresslogseq____&quot;,536870914]],[logseq____&quot;^15logseq____&quot;,[9,logseq____&quot;^11logseq____&quot;,logseq____&quot;IN-PROGRESSlogseq____&quot;,536870914]],[logseq____&quot;^15logseq____&quot;,[9,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u8560e667-3a1b-43a3-afe8-111d7990776dlogseq____&quot;,536870914]],[logseq____&quot;^15logseq____&quot;,[10,logseq____&quot;^@logseq____&quot;,false,536870914]],[logseq____&quot;^15logseq____&quot;,[10,logseq____&quot;^Ylogseq____&quot;,logseq____&quot;clogseq____&quot;,536870914]],[logseq____&quot;^15logseq____&quot;,[10,logseq____&quot;^11logseq____&quot;,logseq____&quot;Clogseq____&quot;,536870914]],[logseq____&quot;^15logseq____&quot;,[10,logseq____&quot;^;logseq____&quot;,logseq____&quot;~ub0c96a2e-9b10-4793-841f-6af2173d6125logseq____&quot;,536870914]],[logseq____&quot;^15logseq____&quot;,[11,logseq____&quot;^@logseq____&quot;,false,536870914]],[logseq____&quot;^15logseq____&quot;,[11,logseq____&quot;^Ylogseq____&quot;,logseq____&quot;blogseq____&quot;,536870914]],[logseq____&quot;^15logseq____&quot;,[11,logseq____&quot;^11logseq____&quot;,logseq____&quot;Blogseq____&quot;,536870914]],[logseq____&quot;^15logseq____&quot;,[11,logseq____&quot;^;logseq____&quot;,logseq____&quot;~ub5b37670-34fd-41be-99ad-cea8df46a96alogseq____&quot;,536870914]],[logseq____&quot;^15logseq____&quot;,[12,logseq____&quot;^@logseq____&quot;,false,536870914]],[logseq____&quot;^15logseq____&quot;,[12,logseq____&quot;^Ylogseq____&quot;,logseq____&quot;contentslogseq____&quot;,536870914]],[logseq____&quot;^15logseq____&quot;,[12,logseq____&quot;^11logseq____&quot;,logseq____&quot;contentslogseq____&quot;,536870918]],[logseq____&quot;^15logseq____&quot;,[12,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9901-dbbe-4b34-94a3-59d05de82a93logseq____&quot;,536870918]],[logseq____&quot;^15logseq____&quot;,[13,logseq____&quot;^@logseq____&quot;,false,536870914]],[logseq____&quot;^15logseq____&quot;,[13,logseq____&quot;^Ylogseq____&quot;,logseq____&quot;waitinglogseq____&quot;,536870914]],[logseq____&quot;^15logseq____&quot;,[13,logseq____&quot;^11logseq____&quot;,logseq____&quot;WAITINGlogseq____&quot;,536870914]],[logseq____&quot;^15logseq____&quot;,[13,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u475493c7-e5c0-492a-920c-553d707a5024logseq____&quot;,536870914]],[logseq____&quot;^15logseq____&quot;,[14,logseq____&quot;^@logseq____&quot;,false,536870914]],[logseq____&quot;^15logseq____&quot;,[14,logseq____&quot;^Ylogseq____&quot;,logseq____&quot;favoriteslogseq____&quot;,536870914]],[logseq____&quot;^15logseq____&quot;,[14,logseq____&quot;^11logseq____&quot;,logseq____&quot;Favoriteslogseq____&quot;,536870914]],[logseq____&quot;^15logseq____&quot;,[14,logseq____&quot;^;logseq____&quot;,logseq____&quot;~uf9f638c9-f2c7-49a8-8cac-2ee490af75aclogseq____&quot;,536870914]],[logseq____&quot;^15logseq____&quot;,[15,logseq____&quot;^@logseq____&quot;,false,536870914]],[logseq____&quot;^15logseq____&quot;,[15,logseq____&quot;^Ylogseq____&quot;,logseq____&quot;alogseq____&quot;,536870914]],[logseq____&quot;^15logseq____&quot;,[15,logseq____&quot;^11logseq____&quot;,logseq____&quot;Alogseq____&quot;,536870914]],[logseq____&quot;^15logseq____&quot;,[15,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u67427a53-079a-4f14-8333-7844e2dcf4e5logseq____&quot;,536870914]],[logseq____&quot;^15logseq____&quot;,[16,logseq____&quot;^@logseq____&quot;,false,536870914]],[logseq____&quot;^15logseq____&quot;,[16,logseq____&quot;^Ylogseq____&quot;,logseq____&quot;cancelledlogseq____&quot;,536870914]],[logseq____&quot;^15logseq____&quot;,[16,logseq____&quot;^11logseq____&quot;,logseq____&quot;CANCELLEDlogseq____&quot;,536870914]],[logseq____&quot;^15logseq____&quot;,[16,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u5c894eca-8bc1-4b92-a08a-07ebfb309ad6logseq____&quot;,536870914]],[logseq____&quot;^15logseq____&quot;,[17,logseq____&quot;^@logseq____&quot;,false,536870914]],[logseq____&quot;^15logseq____&quot;,[17,logseq____&quot;^Ylogseq____&quot;,logseq____&quot;waitlogseq____&quot;,536870914]],[logseq____&quot;^15logseq____&quot;,[17,logseq____&quot;^11logseq____&quot;,logseq____&quot;WAITlogseq____&quot;,536870914]],[logseq____&quot;^15logseq____&quot;,[17,logseq____&quot;^;logseq____&quot;,logseq____&quot;~ub6989f12-64a0-49de-87da-500bd01a045alogseq____&quot;,536870914]],[logseq____&quot;^15logseq____&quot;,[19,logseq____&quot;^Klogseq____&quot;,1725602049825,536870915]],[logseq____&quot;^15logseq____&quot;,[19,logseq____&quot;^Nlogseq____&quot;,20240904,536870915]],[logseq____&quot;^15logseq____&quot;,[19,logseq____&quot;^@logseq____&quot;,true,536870915]],[logseq____&quot;^15logseq____&quot;,[19,logseq____&quot;^Ylogseq____&quot;,logseq____&quot;sep 4th, 2024logseq____&quot;,536870915]],[logseq____&quot;^15logseq____&quot;,[19,logseq____&quot;^11logseq____&quot;,logseq____&quot;Sep 4th, 2024logseq____&quot;,536870915]],[logseq____&quot;^15logseq____&quot;,[19,logseq____&quot;^Blogseq____&quot;,1725602049825,536870915]],[logseq____&quot;^15logseq____&quot;,[19,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9901-7c67-4985-afba-335499ab1b3dlogseq____&quot;,536870915]],[logseq____&quot;^15logseq____&quot;,[20,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;### Working withlogseq____&quot;,536870915]],[logseq____&quot;^15logseq____&quot;,[20,logseq____&quot;^Ologseq____&quot;,logseq____&quot;~:markdownlogseq____&quot;,536870915]],[logseq____&quot;^15logseq____&quot;,[20,logseq____&quot;^Flogseq____&quot;,19,536870915]],[logseq____&quot;^15logseq____&quot;,[20,logseq____&quot;^Xlogseq____&quot;,19,536870915]],[logseq____&quot;^15logseq____&quot;,[20,logseq____&quot;^Vlogseq____&quot;,19,536870915]],[logseq____&quot;^15logseq____&quot;,[20,logseq____&quot;^Ulogseq____&quot;,19,536870915]],[logseq____&quot;^15logseq____&quot;,[20,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;~:headinglogseq____&quot;,3],536870915]],[logseq____&quot;^15logseq____&quot;,[20,logseq____&quot;^Jlogseq____&quot;,[],536870915]],[logseq____&quot;^15logseq____&quot;,[20,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9901-ad19-4fd5-9cdc-16ed9042a073logseq____&quot;,536870915]],[logseq____&quot;^15logseq____&quot;,[21,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;logseq____&quot;,536870915]],[logseq____&quot;^15logseq____&quot;,[21,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870915]],[logseq____&quot;^15logseq____&quot;,[21,logseq____&quot;^Flogseq____&quot;,20,536870915]],[logseq____&quot;^15logseq____&quot;,[21,logseq____&quot;^Xlogseq____&quot;,19,536870915]],[logseq____&quot;^15logseq____&quot;,[21,logseq____&quot;^Vlogseq____&quot;,19,536870915]],[logseq____&quot;^15logseq____&quot;,[21,logseq____&quot;^Ulogseq____&quot;,19,536870915]],[logseq____&quot;^15logseq____&quot;,[21,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9901-f8b1-47ed-b493-7e4804f03998logseq____&quot;,536870915]],[logseq____&quot;^15logseq____&quot;,[25,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;logseq____&quot;,536870918]],[logseq____&quot;^15logseq____&quot;,[25,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870918]],[logseq____&quot;^15logseq____&quot;,[25,logseq____&quot;^Flogseq____&quot;,12,536870918]],[logseq____&quot;^15logseq____&quot;,[25,logseq____&quot;^Xlogseq____&quot;,12,536870918]],[logseq____&quot;^15logseq____&quot;,[25,logseq____&quot;^Vlogseq____&quot;,12,536870918]],[logseq____&quot;^15logseq____&quot;,[25,logseq____&quot;^Ulogseq____&quot;,12,536870918]],[logseq____&quot;^15logseq____&quot;,[25,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9901-6521-4b4c-b456-fbd01745d78alogseq____&quot;,536870918]],[logseq____&quot;^15logseq____&quot;,[27,logseq____&quot;^Klogseq____&quot;,1725602050083,536870919]],[logseq____&quot;^15logseq____&quot;,[27,logseq____&quot;^@logseq____&quot;,false,536870919]],[logseq____&quot;^15logseq____&quot;,[27,logseq____&quot;^Ylogseq____&quot;,logseq____&quot;code bundleslogseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[27,logseq____&quot;^11logseq____&quot;,logseq____&quot;Code Bundleslogseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[27,logseq____&quot;^Blogseq____&quot;,1725602050083,536870919]],[logseq____&quot;^15logseq____&quot;,[27,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9902-9ab9-4442-8862-df43c399a7b0logseq____&quot;,536870920]],[logseq____&quot;^15logseq____&quot;,[28,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;==We define the \\logseq____&quot;bundle ID\\logseq____&quot; as a hash of the bundlelogseq____&apos;s compartment map file==, specifically the fixed string `b1-` followed by the lowercase hex encoding of the SHA512 hash of the compartment map file. The compartment map includes hashes of all the modules included in the bundle, and the validation process ensures that the bundle contains exactly the expected set of modules. So the bundle ID is a strong identifier of the contents of the bundle, which is not sensitive to the order of the zipfile contents.logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[28,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[28,logseq____&quot;^Flogseq____&quot;,56,536870919]],[logseq____&quot;^15logseq____&quot;,[28,logseq____&quot;^Xlogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[28,logseq____&quot;^Vlogseq____&quot;,56,536870919]],[logseq____&quot;^15logseq____&quot;,[28,logseq____&quot;^Ulogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[28,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9902-b342-4dd0-864b-d8f1953576b8logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[29,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;The `bundleSource()` function takes a filename of the entry point module and returns (a promise for) the code bundle object. It generally needs disk access to find all the imports.logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[29,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[29,logseq____&quot;^Flogseq____&quot;,129,536870919]],[logseq____&quot;^15logseq____&quot;,[29,logseq____&quot;^Xlogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[29,logseq____&quot;^Vlogseq____&quot;,114,536870919]],[logseq____&quot;^15logseq____&quot;,[29,logseq____&quot;^Ulogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[29,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9902-260a-4f58-80c9-cb35f567d60clogseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[30,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;We write source code in one or more files named \\logseq____&quot;modules\\logseq____&quot;, like `foo.js`. These modules will export some number of symbols (functions, etc), and can import symbols from other modules. These modules are organized into \\logseq____&quot;packages\\logseq____&quot;.logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[30,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[30,logseq____&quot;^Flogseq____&quot;,114,536870919]],[logseq____&quot;^15logseq____&quot;,[30,logseq____&quot;^Xlogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[30,logseq____&quot;^Vlogseq____&quot;,114,536870919]],[logseq____&quot;^15logseq____&quot;,[30,logseq____&quot;^Ulogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[30,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9902-30ca-4d79-8966-4d64f2062a02logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[31,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;The kvStore has a subset of the key space reserved for holding bundles (mapping bundle ID to the JSON-encoded bundle). Another keyspace holds mapping from bundle name to bundle ID for the named bundles. These are accessed through `kernelKeeper` methods.logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[31,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[31,logseq____&quot;^Flogseq____&quot;,54,536870919]],[logseq____&quot;^15logseq____&quot;,[31,logseq____&quot;^Xlogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[31,logseq____&quot;^Vlogseq____&quot;,54,536870919]],[logseq____&quot;^15logseq____&quot;,[31,logseq____&quot;^Ulogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[31,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9902-04a5-40bf-9a3b-c0f2ef308d41logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[32,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## Using Bundlecapslogseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[32,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[32,logseq____&quot;^Flogseq____&quot;,93,536870919]],[logseq____&quot;^15logseq____&quot;,[32,logseq____&quot;^Xlogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[32,logseq____&quot;^Vlogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[32,logseq____&quot;^Ulogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[32,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^17logseq____&quot;,2],536870919]],[logseq____&quot;^15logseq____&quot;,[32,logseq____&quot;^Jlogseq____&quot;,[],536870919]],[logseq____&quot;^15logseq____&quot;,[32,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9901-22e3-4b7a-ba71-2779cbe33dc3logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[33,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## How Swingset Uses Bundleslogseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[33,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[33,logseq____&quot;^Flogseq____&quot;,95,536870919]],[logseq____&quot;^15logseq____&quot;,[33,logseq____&quot;^Xlogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[33,logseq____&quot;^Vlogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[33,logseq____&quot;^Ulogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[33,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^17logseq____&quot;,2],536870919]],[logseq____&quot;^15logseq____&quot;,[33,logseq____&quot;^Jlogseq____&quot;,[],536870919]],[logseq____&quot;^15logseq____&quot;,[33,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9902-15c1-4990-961a-b36046870175logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[34,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;The `initializeSwingset()` function, called when the host application is first configured, creates bundles for built-in vats and devices (timer, vatAdmin, mailbox), as well as liveslots and the kernel, and installs them into the table as well. Internally, the kernel remembers the bundle ID of each one for later use.logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[34,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[34,logseq____&quot;^Flogseq____&quot;,108,536870919]],[logseq____&quot;^15logseq____&quot;,[34,logseq____&quot;^Xlogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[34,logseq____&quot;^Vlogseq____&quot;,68,536870919]],[logseq____&quot;^15logseq____&quot;,[34,logseq____&quot;^Ulogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[34,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9902-c475-4ead-800b-ab08e6544626logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[35,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;The `importBundle()` function takes a bundle object and evaluates it, returning (a promise for) a \\logseq____&quot;module namespace object\\logseq____&quot;, which contains all the exports of the entry-point module. You can think of `importBundle()` as what Node.js effectively does when you run `node ./foo.js`: it does the equivalent of `bundleSource()` followed by an immediate `importBundle()`, ignoring the exported symbols but executing everything in `foo.js` as a side-effect.logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[35,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[35,logseq____&quot;^Flogseq____&quot;,29,536870919]],[logseq____&quot;^15logseq____&quot;,[35,logseq____&quot;^Xlogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[35,logseq____&quot;^Vlogseq____&quot;,114,536870919]],[logseq____&quot;^15logseq____&quot;,[35,logseq____&quot;^Ulogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[35,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9902-7b6d-4299-a68f-ccae31bda6bdlogseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[36,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`E(vatAdminService).getBundleIDByName(name) -logseq____&gt; Promiselogseq____&lt;stringlogseq____&gt;` (rejects if not registered)logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[36,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[36,logseq____&quot;^Flogseq____&quot;,92,536870919]],[logseq____&quot;^15logseq____&quot;,[36,logseq____&quot;^Xlogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[36,logseq____&quot;^Vlogseq____&quot;,32,536870919]],[logseq____&quot;^15logseq____&quot;,[36,logseq____&quot;^Ulogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[36,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9901-508a-4573-a2c2-1b932601a679logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[37,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;==A \\logseq____&quot;code bundle\\logseq____&quot; is a data structure that captures the contents of these modules and the linkage map (called a \\logseq____&quot;compartment map\\logseq____&quot;).== Bundles are JSON-serializable objects, with one mandatory string property named `moduleFormat`, and other properties that depend on the format. Typically there is exactly one other property, and its value is a very large string (1-2 MB is common). Our bundles use a format defined by [Endo](https://github.com/endojs/endo/), named \\logseq____&quot;EndoZipBase64\\logseq____&quot;, in which the \\logseq____&quot;very large string\\logseq____&quot; is a base64-encoded Zip file, which contains one component for the compartment map, plus components for each of the modules it includes.logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[37,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[37,logseq____&quot;^Flogseq____&quot;,59,536870919]],[logseq____&quot;^15logseq____&quot;,[37,logseq____&quot;^Xlogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[37,logseq____&quot;^Vlogseq____&quot;,58,536870919]],[logseq____&quot;^15logseq____&quot;,[37,logseq____&quot;^Ulogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[37,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9902-df0a-40e3-90a6-56824c77bc2clogseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[38,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;By moving bundle installation into a separate external interface, vat-level messages can remain small. Currently the only place the full bundle will appear is in a vat transcript, in the results of the syscall that implements `D(bundleCap).getBundle()`, when userspace needs to do an `importBundle()` directly, and we hope to remove even that copy in the future.logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[38,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[38,logseq____&quot;^Flogseq____&quot;,138,536870919]],[logseq____&quot;^15logseq____&quot;,[38,logseq____&quot;^Xlogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[38,logseq____&quot;^Vlogseq____&quot;,93,536870919]],[logseq____&quot;^15logseq____&quot;,[38,logseq____&quot;^Ulogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[38,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9902-dcfc-415e-98cb-1d046bc0081dlogseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[39,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;When defining a static vat in the Swingset `config.vats` object, the filename provided as `sourceSpec` is turned into a bundle, the bundle is installed into the bundle table, and resulting bundle ID is stored in the vatlogseq____&apos;s database record. When the static vat is launched, the DB record provides the bundle ID, and the bundle is loaded and evaluated in a new vat worker.logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[39,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[39,logseq____&quot;^Flogseq____&quot;,68,536870919]],[logseq____&quot;^15logseq____&quot;,[39,logseq____&quot;^Xlogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[39,logseq____&quot;^Vlogseq____&quot;,68,536870919]],[logseq____&quot;^15logseq____&quot;,[39,logseq____&quot;^Ulogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[39,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9902-afb8-410d-9f4e-3029b5afa0f7logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[40,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`D(bundleCap).getBundleID() -logseq____&gt; string`: to get the bundle IDlogseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[40,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[40,logseq____&quot;^Flogseq____&quot;,60,536870919]],[logseq____&quot;^15logseq____&quot;,[40,logseq____&quot;^Xlogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[40,logseq____&quot;^Vlogseq____&quot;,60,536870919]],[logseq____&quot;^15logseq____&quot;,[40,logseq____&quot;^Ulogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[40,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9902-2090-4c62-acee-ccc37fad1b36logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[41,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;Once the bundle is installed, the external caller can send a vat-level message with the bundle ID to some vat within the kernel. The receiving vat can then do `E(vatAdminService).getBundleCap(bundleID) -logseq____&gt; bundleCap` to get a handle from which vats can be created.logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[41,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[41,logseq____&quot;^Flogseq____&quot;,117,536870919]],[logseq____&quot;^15logseq____&quot;,[41,logseq____&quot;^Xlogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[41,logseq____&quot;^Vlogseq____&quot;,93,536870919]],[logseq____&quot;^15logseq____&quot;,[41,logseq____&quot;^Ulogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[41,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9902-1a05-4e81-8f83-a7cfb15f4bcdlogseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[42,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;The swingset kernel provides tools to install, reference , and evaluate \\logseq____&quot;Code Bundles\\logseq____&quot;. Vats can be created from a bundle, and vats can pass around \\logseq____&quot;bundlecaps\\logseq____&quot; to refer to previously-installed bundles.logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[42,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[42,logseq____&quot;^Flogseq____&quot;,97,536870919]],[logseq____&quot;^15logseq____&quot;,[42,logseq____&quot;^Xlogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[42,logseq____&quot;^Vlogseq____&quot;,97,536870919]],[logseq____&quot;^15logseq____&quot;,[42,logseq____&quot;^Ulogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[42,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9902-eec1-4948-8eb0-14e9388b5cc9logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[43,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;Note that the `waitForBundleCap()` method will wait (possibly forever) for the bundle ID to be installed before resolving its Promise, so the Promise will never resolve to `undefined`.logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[43,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[43,logseq____&quot;^Flogseq____&quot;,52,536870919]],[logseq____&quot;^15logseq____&quot;,[43,logseq____&quot;^Xlogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[43,logseq____&quot;^Vlogseq____&quot;,116,536870919]],[logseq____&quot;^15logseq____&quot;,[43,logseq____&quot;^Ulogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[43,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9902-1fba-4f2e-a4dc-557c21e1e224logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[44,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;in these bundles, the entry point module exports a function named `buildRootObject`logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[44,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[44,logseq____&quot;^Flogseq____&quot;,94,536870919]],[logseq____&quot;^15logseq____&quot;,[44,logseq____&quot;^Xlogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[44,logseq____&quot;^Vlogseq____&quot;,33,536870919]],[logseq____&quot;^15logseq____&quot;,[44,logseq____&quot;^Ulogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[44,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9902-1c38-4332-91df-6362d5aca44dlogseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[45,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;The swingset kernel maintains a \\logseq____&quot;bundle table\\logseq____&quot; in the kernel database. Bundles can be installed here, indexed by their bundle ID, and retrieved for various purposes:logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[45,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[45,logseq____&quot;^Flogseq____&quot;,101,536870919]],[logseq____&quot;^15logseq____&quot;,[45,logseq____&quot;^Xlogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[45,logseq____&quot;^Vlogseq____&quot;,101,536870919]],[logseq____&quot;^15logseq____&quot;,[45,logseq____&quot;^Ulogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[45,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9902-1fcf-4f6b-90a6-c49ef2f530dflogseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[46,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## Bundle Installation at Runtimelogseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[46,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[46,logseq____&quot;^Flogseq____&quot;,68,536870919]],[logseq____&quot;^15logseq____&quot;,[46,logseq____&quot;^Xlogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[46,logseq____&quot;^Vlogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[46,logseq____&quot;^Ulogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[46,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^17logseq____&quot;,2],536870919]],[logseq____&quot;^15logseq____&quot;,[46,logseq____&quot;^Jlogseq____&quot;,[],536870919]],[logseq____&quot;^15logseq____&quot;,[46,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9902-1dc8-4b6e-bad2-11d332bf36a5logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[47,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;In a given workspace (e.g. a Git checkout / working tree), you will have a hierarchy of `node_modules/` directories which contain the packages and modules that can be imported. So when `foo.js` says `import { x } from logseq____&apos;../bar.jslogseq____&apos;`, it will get code from a neighboring file, and when it says `import { y } from logseq____&apos;otherpackagelogseq____&apos;`, it will get code from somewhere in the `node_modules` directory.logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[47,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[47,logseq____&quot;^Flogseq____&quot;,30,536870919]],[logseq____&quot;^15logseq____&quot;,[47,logseq____&quot;^Xlogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[47,logseq____&quot;^Vlogseq____&quot;,114,536870919]],[logseq____&quot;^15logseq____&quot;,[47,logseq____&quot;^Ulogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[47,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9902-8043-43a3-8358-2141ebd0fe3dlogseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[48,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;this could also be used as part of an in-vat upgrade process, to load new behaviorlogseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[48,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[48,logseq____&quot;^Flogseq____&quot;,133,536870919]],[logseq____&quot;^15logseq____&quot;,[48,logseq____&quot;^Xlogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[48,logseq____&quot;^Vlogseq____&quot;,101,536870919]],[logseq____&quot;^15logseq____&quot;,[48,logseq____&quot;^Ulogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[48,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9902-3117-4ef3-8b8a-26fd565340e6logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[49,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`E(vatAdminService).waitForBundleCap(bundleID) -logseq____&gt; Promiselogseq____&lt;BundleCaplogseq____&gt;` (waits until installed)logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[49,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[49,logseq____&quot;^Flogseq____&quot;,88,536870919]],[logseq____&quot;^15logseq____&quot;,[49,logseq____&quot;^Xlogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[49,logseq____&quot;^Vlogseq____&quot;,32,536870919]],[logseq____&quot;^15logseq____&quot;,[49,logseq____&quot;^Ulogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[49,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9901-aabf-471e-bc7b-850f82031837logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[50,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;the liveslots bundle ID is recorded separately for each vat, so liveslots can be upgraded (for new vats) without affecting the behavior of existing oneslogseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[50,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[50,logseq____&quot;^Flogseq____&quot;,79,536870919]],[logseq____&quot;^15logseq____&quot;,[50,logseq____&quot;^Xlogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[50,logseq____&quot;^Vlogseq____&quot;,101,536870919]],[logseq____&quot;^15logseq____&quot;,[50,logseq____&quot;^Ulogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[50,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9902-2ed9-43eb-a8d6-f16c618e59d6logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[51,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;A future version of this interface will expose enough information to install individual modules first, and then \\logseq____&quot;install\\logseq____&quot; a bundle from just the compartment map contents (after checking that all the required modules are already present).logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[51,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[51,logseq____&quot;^Flogseq____&quot;,118,536870919]],[logseq____&quot;^15logseq____&quot;,[51,logseq____&quot;^Xlogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[51,logseq____&quot;^Vlogseq____&quot;,46,536870919]],[logseq____&quot;^15logseq____&quot;,[51,logseq____&quot;^Ulogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[51,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9902-f6ff-4138-b68f-9223edf832b5logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[52,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`E(vatAdminService).getBundleIDByName(name) -logseq____&gt; Promiselogseq____&lt;stringlogseq____&gt;` (rejects if not registered)logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[52,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[52,logseq____&quot;^Flogseq____&quot;,55,536870919]],[logseq____&quot;^15logseq____&quot;,[52,logseq____&quot;^Xlogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[52,logseq____&quot;^Vlogseq____&quot;,116,536870919]],[logseq____&quot;^15logseq____&quot;,[52,logseq____&quot;^Ulogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[52,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9902-5b1e-4781-a8e5-c3a502732fcdlogseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[53,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;the kernel source code itself is stored in a bundle, to make it easier to switch from one version of the kernel to another at a pre-determined timelogseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[53,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[53,logseq____&quot;^Flogseq____&quot;,75,536870919]],[logseq____&quot;^15logseq____&quot;,[53,logseq____&quot;^Xlogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[53,logseq____&quot;^Vlogseq____&quot;,101,536870919]],[logseq____&quot;^15logseq____&quot;,[53,logseq____&quot;^Ulogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[53,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9902-829f-475f-b149-7cc448531823logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[54,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## Kernel Internalslogseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[54,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[54,logseq____&quot;^Flogseq____&quot;,116,536870919]],[logseq____&quot;^15logseq____&quot;,[54,logseq____&quot;^Xlogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[54,logseq____&quot;^Vlogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[54,logseq____&quot;^Ulogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[54,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^17logseq____&quot;,2],536870919]],[logseq____&quot;^15logseq____&quot;,[54,logseq____&quot;^Jlogseq____&quot;,[],536870919]],[logseq____&quot;^15logseq____&quot;,[54,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9902-e816-4951-999d-fffd904587cflogseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[55,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`E(vatAdminService).getNamedBundleCap(name) -logseq____&gt; Promiselogseq____&lt;BundleCaplogseq____&gt;` (rejects if not registered)logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[55,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[55,logseq____&quot;^Flogseq____&quot;,82,536870919]],[logseq____&quot;^15logseq____&quot;,[55,logseq____&quot;^Xlogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[55,logseq____&quot;^Vlogseq____&quot;,116,536870919]],[logseq____&quot;^15logseq____&quot;,[55,logseq____&quot;^Ulogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[55,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9902-7f5e-4c23-9fa2-06570a337309logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[56,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## BundleIDslogseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[56,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[56,logseq____&quot;^Flogseq____&quot;,58,536870919]],[logseq____&quot;^15logseq____&quot;,[56,logseq____&quot;^Xlogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[56,logseq____&quot;^Vlogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[56,logseq____&quot;^Ulogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[56,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^17logseq____&quot;,2],536870919]],[logseq____&quot;^15logseq____&quot;,[56,logseq____&quot;^Jlogseq____&quot;,[],536870919]],[logseq____&quot;^15logseq____&quot;,[56,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9902-1e37-44f0-bef7-c8eda2fa7371logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[57,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;Bundlecaps can be obtained from several methods of `vatAdminService`, which (as a vat) always returns a Promise.logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[57,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[57,logseq____&quot;^Flogseq____&quot;,83,536870919]],[logseq____&quot;^15logseq____&quot;,[57,logseq____&quot;^Xlogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[57,logseq____&quot;^Vlogseq____&quot;,116,536870919]],[logseq____&quot;^15logseq____&quot;,[57,logseq____&quot;^Ulogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[57,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9902-c699-4ac1-a229-e98ba682a5fflogseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[58,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## What Is A Bundle?logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[58,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[58,logseq____&quot;^Flogseq____&quot;,97,536870919]],[logseq____&quot;^15logseq____&quot;,[58,logseq____&quot;^Xlogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[58,logseq____&quot;^Vlogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[58,logseq____&quot;^Ulogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[58,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^17logseq____&quot;,2],536870919]],[logseq____&quot;^15logseq____&quot;,[58,logseq____&quot;^Jlogseq____&quot;,[],536870919]],[logseq____&quot;^15logseq____&quot;,[58,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9902-33ff-46bb-a8bc-827f7084f83alogseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[59,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;If you point at a single \\logseq____&quot;entry point\\logseq____&quot; module, and chase down all the `import` statements, youlogseq____&apos;ll find some other set of module files. Following the transitive `import` statements leads to a collection of modules and a linkage map which remembers how they are wired together.logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[59,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[59,logseq____&quot;^Flogseq____&quot;,72,536870919]],[logseq____&quot;^15logseq____&quot;,[59,logseq____&quot;^Xlogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[59,logseq____&quot;^Vlogseq____&quot;,58,536870919]],[logseq____&quot;^15logseq____&quot;,[59,logseq____&quot;^Ulogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[59,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9902-36ca-4705-beeb-4b3aeb5cc138logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[60,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;Once you have a bundlecap, the full set of things you can do with it are:logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[60,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[60,logseq____&quot;^Flogseq____&quot;,43,536870919]],[logseq____&quot;^15logseq____&quot;,[60,logseq____&quot;^Xlogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[60,logseq____&quot;^Vlogseq____&quot;,116,536870919]],[logseq____&quot;^15logseq____&quot;,[60,logseq____&quot;^Ulogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[60,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9902-45c9-4d69-80fa-8a124e7625e4logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[61,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;==Using bundlecaps is much more efficient than passing the entire (large) bundle object through messages.==logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[61,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[61,logseq____&quot;^Flogseq____&quot;,42,536870919]],[logseq____&quot;^15logseq____&quot;,[61,logseq____&quot;^Xlogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[61,logseq____&quot;^Vlogseq____&quot;,97,536870919]],[logseq____&quot;^15logseq____&quot;,[61,logseq____&quot;^Ulogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[61,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9902-5cc1-43e7-aa5d-1d5bd8ece7e3logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[62,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`E(vatAdminService).createVat(bundleCap)`: create a new dynamic vat from the bundlelogseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[62,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[62,logseq____&quot;^Flogseq____&quot;,69,536870919]],[logseq____&quot;^15logseq____&quot;,[62,logseq____&quot;^Xlogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[62,logseq____&quot;^Vlogseq____&quot;,81,536870919]],[logseq____&quot;^15logseq____&quot;,[62,logseq____&quot;^Ulogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[62,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9901-b933-4166-8b51-206263646840logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[63,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;# Code Bundleslogseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[63,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[63,logseq____&quot;^Flogseq____&quot;,121,536870919]],[logseq____&quot;^15logseq____&quot;,[63,logseq____&quot;^Xlogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[63,logseq____&quot;^Vlogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[63,logseq____&quot;^Ulogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[63,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^17logseq____&quot;,1],536870919]],[logseq____&quot;^15logseq____&quot;,[63,logseq____&quot;^Jlogseq____&quot;,[],536870919]],[logseq____&quot;^15logseq____&quot;,[63,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9902-6886-4804-8a18-328765d7c694logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[64,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;The `config.bundles` object maps names to a bundle specification. These bundles are installed as above, and then a special \\logseq____&quot;named bundles\\logseq____&quot; table is updated with the name-to-bundle-ID mapping. These names are available to `E(vatAdminService).getNamedBundleCap(name) -logseq____&gt; bundleCap` and `E(vatAdminService).getBundleIDByName(name) -logseq____&gt; bundleID`. For example, the chainlogseq____&apos;s \\logseq____&quot;core bootstrap\\logseq____&quot; code will use this to define bundles for the core vats (Zoe, etc), and create dynamic vats at bootstrap time from them. It will also provide Zoe with the bundlecap for ZCF this way, so Zoe can later create dynamic ZCF vats. `E(vatAdminService).createVatByName(name)` will continue to be supported until core-bootstrap is updated to retrieve bundlecaps, after which vat-admin will drop `createVatByName` and only support `createVat(bundleCap)`.logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[64,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[64,logseq____&quot;^Flogseq____&quot;,122,536870919]],[logseq____&quot;^15logseq____&quot;,[64,logseq____&quot;^Xlogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[64,logseq____&quot;^Vlogseq____&quot;,112,536870919]],[logseq____&quot;^15logseq____&quot;,[64,logseq____&quot;^Ulogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[64,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9902-6f49-417c-8184-3bd9261d6c4alogseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[65,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;* `E(vatAdminService).getBundleCap(bundleID) -logseq____&gt; Promiselogseq____&lt;BundleCaplogseq____&gt;` (rejects if not installed yet)logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[65,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[65,logseq____&quot;^Flogseq____&quot;,57,536870919]],[logseq____&quot;^15logseq____&quot;,[65,logseq____&quot;^Xlogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[65,logseq____&quot;^Vlogseq____&quot;,116,536870919]],[logseq____&quot;^15logseq____&quot;,[65,logseq____&quot;^Ulogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[65,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9902-8dfa-4d82-a011-507d04768730logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[66,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;The vatAdmin vatlogseq____&apos;s `createVat` method accepts bundlecaps (or full bundles, for now). The vatAdmin device (which is wrapped tightly by vatAdminVat and not exposed to anyone else) accepts bundle IDs. VatAdminDevice translates bundlecaps into bundle IDs before talking to the device.logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[66,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[66,logseq____&quot;^Flogseq____&quot;,105,536870919]],[logseq____&quot;^15logseq____&quot;,[66,logseq____&quot;^Xlogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[66,logseq____&quot;^Vlogseq____&quot;,67,536870919]],[logseq____&quot;^15logseq____&quot;,[66,logseq____&quot;^Ulogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[66,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9901-2650-436b-b440-66abd48ebb99logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[67,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## Kernel Internalslogseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[67,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[67,logseq____&quot;^Flogseq____&quot;,32,536870919]],[logseq____&quot;^15logseq____&quot;,[67,logseq____&quot;^Xlogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[67,logseq____&quot;^Vlogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[67,logseq____&quot;^Ulogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[67,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^17logseq____&quot;,2],536870919]],[logseq____&quot;^15logseq____&quot;,[67,logseq____&quot;^Jlogseq____&quot;,[],536870919]],[logseq____&quot;^15logseq____&quot;,[67,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9901-3d8f-4bf8-b3b7-6819fabd03e3logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[68,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## Bundle Installation Through Configlogseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[68,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[68,logseq____&quot;^Flogseq____&quot;,115,536870919]],[logseq____&quot;^15logseq____&quot;,[68,logseq____&quot;^Xlogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[68,logseq____&quot;^Vlogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[68,logseq____&quot;^Ulogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[68,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^17logseq____&quot;,2],536870919]],[logseq____&quot;^15logseq____&quot;,[68,logseq____&quot;^Jlogseq____&quot;,[],536870919]],[logseq____&quot;^15logseq____&quot;,[68,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9902-64a7-4ce3-98b5-f815f8745354logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[69,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`D(bundleCap).getBundle() -logseq____&gt; bundle object`: if you really need the full bundle, i.e. for `importBundle()`logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[69,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[69,logseq____&quot;^Flogseq____&quot;,71,536870919]],[logseq____&quot;^15logseq____&quot;,[69,logseq____&quot;^Xlogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[69,logseq____&quot;^Vlogseq____&quot;,81,536870919]],[logseq____&quot;^15logseq____&quot;,[69,logseq____&quot;^Ulogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[69,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9901-5183-4eca-a656-46d4f2c01304logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[70,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;the bundlecap can be used with `vatAdminService~.createVat()` to make a new dynamic vatlogseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[70,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[70,logseq____&quot;^Flogseq____&quot;,128,536870919]],[logseq____&quot;^15logseq____&quot;,[70,logseq____&quot;^Xlogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[70,logseq____&quot;^Vlogseq____&quot;,33,536870919]],[logseq____&quot;^15logseq____&quot;,[70,logseq____&quot;^Ulogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[70,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9902-add6-4206-9e4a-09c74c49ba76logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[71,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`D(bundleCap).getBundleID() -logseq____&gt; string`: to get the bundle IDlogseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[71,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[71,logseq____&quot;^Flogseq____&quot;,81,536870919]],[logseq____&quot;^15logseq____&quot;,[71,logseq____&quot;^Xlogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[71,logseq____&quot;^Vlogseq____&quot;,81,536870919]],[logseq____&quot;^15logseq____&quot;,[71,logseq____&quot;^Ulogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[71,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9901-b198-4edb-9193-75bcce1024aflogseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[72,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;In a given workspace (e.g. a Git checkout / working tree), you will have a hierarchy of `node_modules/` directories which contain the packages and modules that can be imported. So when `foo.js` says `import { x } from logseq____&apos;../bar.jslogseq____&apos;`, it will get code from a neighboring file, and when it says `import { y } from logseq____&apos;otherpackagelogseq____&apos;`, it will get code from somewhere in the `node_modules` directory.logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[72,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[72,logseq____&quot;^Flogseq____&quot;,106,536870919]],[logseq____&quot;^15logseq____&quot;,[72,logseq____&quot;^Xlogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[72,logseq____&quot;^Vlogseq____&quot;,58,536870919]],[logseq____&quot;^15logseq____&quot;,[72,logseq____&quot;^Ulogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[72,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9902-0020-476d-ba8c-f6d600678ecelogseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[73,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`E(vatAdminService).createVat(bundleCap)`: create a new dynamic vat from the bundlelogseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[73,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[73,logseq____&quot;^Flogseq____&quot;,84,536870919]],[logseq____&quot;^15logseq____&quot;,[73,logseq____&quot;^Xlogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[73,logseq____&quot;^Vlogseq____&quot;,60,536870919]],[logseq____&quot;^15logseq____&quot;,[73,logseq____&quot;^Ulogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[73,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9902-7496-4967-84b5-8630920ce897logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[74,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[74,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[74,logseq____&quot;^Flogseq____&quot;,54,536870919]],[logseq____&quot;^15logseq____&quot;,[74,logseq____&quot;^Xlogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[74,logseq____&quot;^Vlogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[74,logseq____&quot;^Ulogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[74,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9902-f4b0-4ac9-990b-0d8d2ef62d85logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[75,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;swingset devices are defined by bundles that are stored in the bundle tablelogseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[75,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[75,logseq____&quot;^Flogseq____&quot;,50,536870919]],[logseq____&quot;^15logseq____&quot;,[75,logseq____&quot;^Xlogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[75,logseq____&quot;^Vlogseq____&quot;,101,536870919]],[logseq____&quot;^15logseq____&quot;,[75,logseq____&quot;^Ulogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[75,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9902-64a1-40f8-aed6-a16deca19c08logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[76,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;the liveslots bundle ID is recorded separately for each vat, so liveslots can be upgraded (for new vats) without affecting the behavior of existing oneslogseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[76,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[76,logseq____&quot;^Flogseq____&quot;,139,536870919]],[logseq____&quot;^15logseq____&quot;,[76,logseq____&quot;^Xlogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[76,logseq____&quot;^Vlogseq____&quot;,33,536870919]],[logseq____&quot;^15logseq____&quot;,[76,logseq____&quot;^Ulogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[76,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9902-2547-4774-9cfb-94f3a9a1a079logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[77,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;Bundlecaps can be obtained from several methods of `vatAdminService`, which (as a vat) always returns a Promise.logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[77,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[77,logseq____&quot;^Flogseq____&quot;,85,536870919]],[logseq____&quot;^15logseq____&quot;,[77,logseq____&quot;^Xlogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[77,logseq____&quot;^Vlogseq____&quot;,32,536870919]],[logseq____&quot;^15logseq____&quot;,[77,logseq____&quot;^Ulogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[77,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9901-2d87-4fc1-906d-81ab3d95a66blogseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[78,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;* all swingset vats, both static and dynamic, start from a bundlelogseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[78,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[78,logseq____&quot;^Flogseq____&quot;,45,536870919]],[logseq____&quot;^15logseq____&quot;,[78,logseq____&quot;^Xlogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[78,logseq____&quot;^Vlogseq____&quot;,101,536870919]],[logseq____&quot;^15logseq____&quot;,[78,logseq____&quot;^Ulogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[78,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9902-e736-47c7-b2d1-98fd6f021d6dlogseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[79,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;each vat also has a \\logseq____&quot;liveslots\\logseq____&quot; layer, defined by a bundlelogseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[79,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[79,logseq____&quot;^Flogseq____&quot;,48,536870919]],[logseq____&quot;^15logseq____&quot;,[79,logseq____&quot;^Xlogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[79,logseq____&quot;^Vlogseq____&quot;,101,536870919]],[logseq____&quot;^15logseq____&quot;,[79,logseq____&quot;^Ulogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[79,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9902-623d-440c-9d35-361c0b2a5971logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[80,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;the bundlecap can be used with `vatAdminService~.createVat()` to make a new dynamic vatlogseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[80,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[80,logseq____&quot;^Flogseq____&quot;,102,536870919]],[logseq____&quot;^15logseq____&quot;,[80,logseq____&quot;^Xlogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[80,logseq____&quot;^Vlogseq____&quot;,101,536870919]],[logseq____&quot;^15logseq____&quot;,[80,logseq____&quot;^Ulogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[80,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9902-b79e-4cd1-b846-242b69e7e184logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[81,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;Once you have a bundlecap, the full set of things you can do with it are:logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[81,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[81,logseq____&quot;^Flogseq____&quot;,36,536870919]],[logseq____&quot;^15logseq____&quot;,[81,logseq____&quot;^Xlogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[81,logseq____&quot;^Vlogseq____&quot;,32,536870919]],[logseq____&quot;^15logseq____&quot;,[81,logseq____&quot;^Ulogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[81,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9901-7bc4-4f4a-9b28-8555317132balogseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[82,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`E(vatAdminService).waitForBundleCap(bundleID) -logseq____&gt; Promiselogseq____&lt;BundleCaplogseq____&gt;` (waits until installed)logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[82,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[82,logseq____&quot;^Flogseq____&quot;,65,536870919]],[logseq____&quot;^15logseq____&quot;,[82,logseq____&quot;^Xlogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[82,logseq____&quot;^Vlogseq____&quot;,116,536870919]],[logseq____&quot;^15logseq____&quot;,[82,logseq____&quot;^Ulogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[82,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9902-5066-4d94-94ae-81d8a2d5d430logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[83,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;Userspace works with bundlecaps, which can be passed through eventual-sends from one vat to another and stored in collections (and virtual objects). Internally, each bundlecap wraps a bundle ID.logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[83,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[83,logseq____&quot;^Flogseq____&quot;,116,536870919]],[logseq____&quot;^15logseq____&quot;,[83,logseq____&quot;^Xlogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[83,logseq____&quot;^Vlogseq____&quot;,116,536870919]],[logseq____&quot;^15logseq____&quot;,[83,logseq____&quot;^Ulogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[83,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9902-d04d-4c49-97b3-1a8d5ed8a463logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[84,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`D(bundleCap).getBundle() -logseq____&gt; bundle object`: if you really need the full bundle, i.e. for `importBundle()`logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[84,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[84,logseq____&quot;^Flogseq____&quot;,40,536870919]],[logseq____&quot;^15logseq____&quot;,[84,logseq____&quot;^Xlogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[84,logseq____&quot;^Vlogseq____&quot;,60,536870919]],[logseq____&quot;^15logseq____&quot;,[84,logseq____&quot;^Ulogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[84,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9902-c48e-4a49-ac6c-23cea9eb724flogseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[85,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;Userspace works with bundlecaps, which can be passed through eventual-sends from one vat to another and stored in collections (and virtual objects). Internally, each bundlecap wraps a bundle ID.logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[85,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[85,logseq____&quot;^Flogseq____&quot;,32,536870919]],[logseq____&quot;^15logseq____&quot;,[85,logseq____&quot;^Xlogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[85,logseq____&quot;^Vlogseq____&quot;,32,536870919]],[logseq____&quot;^15logseq____&quot;,[85,logseq____&quot;^Ulogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[85,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9901-95cc-40a8-9d98-f18860c31f8flogseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[86,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;this could also be used as part of an in-vat upgrade process, to load new behaviorlogseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[86,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[86,logseq____&quot;^Flogseq____&quot;,119,536870919]],[logseq____&quot;^15logseq____&quot;,[86,logseq____&quot;^Xlogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[86,logseq____&quot;^Vlogseq____&quot;,33,536870919]],[logseq____&quot;^15logseq____&quot;,[86,logseq____&quot;^Ulogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[86,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9902-2144-40f1-9e4c-dcfc00795a3dlogseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[87,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`controller.validateAndInstallBundle(bundle, optionalAllegedBundleID)` performs validity checks, installs the bundle, and returns the computed bundle ID. It uses `kernel.installBundle(bundleID, bundle)` internally, which uses uses `kernelKeeper` to store the bundle, and does not perform validation.logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[87,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[87,logseq____&quot;^Flogseq____&quot;,91,536870919]],[logseq____&quot;^15logseq____&quot;,[87,logseq____&quot;^Xlogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[87,logseq____&quot;^Vlogseq____&quot;,54,536870919]],[logseq____&quot;^15logseq____&quot;,[87,logseq____&quot;^Ulogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[87,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9902-5888-40b4-9799-0aba86ac563blogseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[88,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;* `E(vatAdminService).getBundleCap(bundleID) -logseq____&gt; Promiselogseq____&lt;BundleCaplogseq____&gt;` (rejects if not installed yet)logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[88,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[88,logseq____&quot;^Flogseq____&quot;,77,536870919]],[logseq____&quot;^15logseq____&quot;,[88,logseq____&quot;^Xlogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[88,logseq____&quot;^Vlogseq____&quot;,32,536870919]],[logseq____&quot;^15logseq____&quot;,[88,logseq____&quot;^Ulogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[88,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9901-d76d-4fcd-8f29-2dd21f4e4a49logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[89,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;The `bundleSource()` function takes a filename of the entry point module and returns (a promise for) the code bundle object. It generally needs disk access to find all the imports.logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[89,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[89,logseq____&quot;^Flogseq____&quot;,37,536870919]],[logseq____&quot;^15logseq____&quot;,[89,logseq____&quot;^Xlogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[89,logseq____&quot;^Vlogseq____&quot;,58,536870919]],[logseq____&quot;^15logseq____&quot;,[89,logseq____&quot;^Ulogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[89,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9902-49cc-4627-bf8b-4e66c819b908logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[90,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;Once the kernel is up and running, new bundles can be installed with the `controller.validateAndInstallBundle()` interface. This accepts a bundle and an optional alleged bundle ID. It performs validity checks: if the ID is provided but does not match the compartment map, or if (TODO) the bundle contents do not match the compartment map, or if (TODO) the contents do not parse as JavaScript modules, then it will throw. If everything looks good, it will install the bundle into the table and return the computed bundle ID.logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[90,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[90,logseq____&quot;^Flogseq____&quot;,46,536870919]],[logseq____&quot;^15logseq____&quot;,[90,logseq____&quot;^Xlogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[90,logseq____&quot;^Vlogseq____&quot;,46,536870919]],[logseq____&quot;^15logseq____&quot;,[90,logseq____&quot;^Ulogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[90,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9902-1f19-416c-b4f6-e0bded6519e8logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[91,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;The vatAdmin vatlogseq____&apos;s `createVat` method accepts bundlecaps (or full bundles, for now). The vatAdmin device (which is wrapped tightly by vatAdminVat and not exposed to anyone else) accepts bundle IDs. VatAdminDevice translates bundlecaps into bundle IDs before talking to the device.logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[91,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[91,logseq____&quot;^Flogseq____&quot;,131,536870919]],[logseq____&quot;^15logseq____&quot;,[91,logseq____&quot;^Xlogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[91,logseq____&quot;^Vlogseq____&quot;,54,536870919]],[logseq____&quot;^15logseq____&quot;,[91,logseq____&quot;^Ulogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[91,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9902-0ed4-4cfc-b905-82a8436d23f2logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[92,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`E(vatAdminService).getNamedBundleCap(name) -logseq____&gt; Promiselogseq____&lt;BundleCaplogseq____&gt;` (rejects if not registered)logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[92,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[92,logseq____&quot;^Flogseq____&quot;,49,536870919]],[logseq____&quot;^15logseq____&quot;,[92,logseq____&quot;^Xlogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[92,logseq____&quot;^Vlogseq____&quot;,32,536870919]],[logseq____&quot;^15logseq____&quot;,[92,logseq____&quot;^Ulogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[92,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9901-b56d-4afd-b9f1-755214741b4dlogseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[93,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## Bundle Installation at Runtimelogseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[93,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[93,logseq____&quot;^Flogseq____&quot;,112,536870919]],[logseq____&quot;^15logseq____&quot;,[93,logseq____&quot;^Xlogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[93,logseq____&quot;^Vlogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[93,logseq____&quot;^Ulogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[93,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^17logseq____&quot;,2],536870919]],[logseq____&quot;^15logseq____&quot;,[93,logseq____&quot;^Jlogseq____&quot;,[],536870919]],[logseq____&quot;^15logseq____&quot;,[93,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9902-a57c-472e-89ec-df0e540c8b9dlogseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[94,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;all swingset vats, both static and dynamic, start from a bundlelogseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[94,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[94,logseq____&quot;^Flogseq____&quot;,113,536870919]],[logseq____&quot;^15logseq____&quot;,[94,logseq____&quot;^Xlogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[94,logseq____&quot;^Vlogseq____&quot;,33,536870919]],[logseq____&quot;^15logseq____&quot;,[94,logseq____&quot;^Ulogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[94,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9902-c467-49e6-8fae-8b83931908f2logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[95,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## Bundlecapslogseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[95,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[95,logseq____&quot;^Flogseq____&quot;,109,536870919]],[logseq____&quot;^15logseq____&quot;,[95,logseq____&quot;^Xlogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[95,logseq____&quot;^Vlogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[95,logseq____&quot;^Ulogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[95,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^17logseq____&quot;,2],536870919]],[logseq____&quot;^15logseq____&quot;,[95,logseq____&quot;^Jlogseq____&quot;,[],536870919]],[logseq____&quot;^15logseq____&quot;,[95,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9902-84de-43f1-a31b-d7e1aa3a22e9logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[96,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;A bundle might be assembled piecemeal. If I want to give you a bundle, and you already have a number of similar bundles, we can compare the modules in each and figure out the ones my bundle needs but you donlogseq____&apos;t have yet. Then I can send you just the compartment map and the missing modules, and you can reassemble a functionally identical bundle. The bundle ID will be the same, the imported behavior will be the same, but the zipfile itself might be slightly different. This lets us minimize the amount of data transmitted and stored.logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[96,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[96,logseq____&quot;^Flogseq____&quot;,28,536870919]],[logseq____&quot;^15logseq____&quot;,[96,logseq____&quot;^Xlogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[96,logseq____&quot;^Vlogseq____&quot;,56,536870919]],[logseq____&quot;^15logseq____&quot;,[96,logseq____&quot;^Ulogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[96,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9902-0a4b-4bf0-a0a5-f47332d2756flogseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[97,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## Code Bundleslogseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[97,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[97,logseq____&quot;^Flogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[97,logseq____&quot;^Xlogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[97,logseq____&quot;^Vlogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[97,logseq____&quot;^Ulogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[97,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^17logseq____&quot;,2],536870919]],[logseq____&quot;^15logseq____&quot;,[97,logseq____&quot;^Jlogseq____&quot;,[],536870919]],[logseq____&quot;^15logseq____&quot;,[97,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9902-e380-4861-a6d9-fcbf2bc52a6flogseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[98,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;But once a bundlecap is obtained, the corresponding bundle is guaranteed to be available. We do not yet have GC for bundles, but once we do, each copy of the bundlecap will establish a reference count. As long as any bundlecap is still held, the bundle will be held too. Bundles will be deleted at some point after the last bundlecap is gone. (We need a story for what keeps the bundle alive between the external `controller.validateAndInstallBundle()` and some vat getting a bundlecap, but that interval is not expected to be very long, so we might just use explicit GC actions that we donlogseq____&apos;t run very often).logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[98,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[98,logseq____&quot;^Flogseq____&quot;,141,536870919]],[logseq____&quot;^15logseq____&quot;,[98,logseq____&quot;^Xlogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[98,logseq____&quot;^Vlogseq____&quot;,124,536870919]],[logseq____&quot;^15logseq____&quot;,[98,logseq____&quot;^Ulogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[98,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9901-7071-459f-822b-29df5573065flogseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[99,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;userspace can use `D(bundleCap).getBundle()` to fetch the bundle itself, for use with an `importBundle()` that does not create an entire new vatlogseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[99,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[99,logseq____&quot;^Flogseq____&quot;,70,536870919]],[logseq____&quot;^15logseq____&quot;,[99,logseq____&quot;^Xlogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[99,logseq____&quot;^Vlogseq____&quot;,33,536870919]],[logseq____&quot;^15logseq____&quot;,[99,logseq____&quot;^Ulogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[99,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9902-d2f2-463e-b4bb-c2ca03d28e80logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[100,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`controller.validateAndInstallBundle(bundle, optionalAllegedBundleID)` performs validity checks, installs the bundle, and returns the computed bundle ID. It uses `kernel.installBundle(bundleID, bundle)` internally, which uses uses `kernelKeeper` to store the bundle, and does not perform validation.logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[100,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[100,logseq____&quot;^Flogseq____&quot;,66,536870919]],[logseq____&quot;^15logseq____&quot;,[100,logseq____&quot;^Xlogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[100,logseq____&quot;^Vlogseq____&quot;,67,536870919]],[logseq____&quot;^15logseq____&quot;,[100,logseq____&quot;^Ulogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[100,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9901-3939-45ae-8675-efa48ebe4b7alogseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[101,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## How Swingset Uses Bundleslogseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[101,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[101,logseq____&quot;^Flogseq____&quot;,110,536870919]],[logseq____&quot;^15logseq____&quot;,[101,logseq____&quot;^Xlogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[101,logseq____&quot;^Vlogseq____&quot;,115,536870919]],[logseq____&quot;^15logseq____&quot;,[101,logseq____&quot;^Ulogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[101,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^17logseq____&quot;,2],536870919]],[logseq____&quot;^15logseq____&quot;,[101,logseq____&quot;^Jlogseq____&quot;,[],536870919]],[logseq____&quot;^15logseq____&quot;,[101,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9902-e76c-4053-b753-7797a077c11elogseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[102,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;through `vatAdminService~.getBundleCap()`, vat code can exchange a bundle ID for a bundlecaplogseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[102,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[102,logseq____&quot;^Flogseq____&quot;,103,536870919]],[logseq____&quot;^15logseq____&quot;,[102,logseq____&quot;^Xlogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[102,logseq____&quot;^Vlogseq____&quot;,101,536870919]],[logseq____&quot;^15logseq____&quot;,[102,logseq____&quot;^Ulogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[102,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9902-9034-4bd7-8d82-aebe6c27ecb2logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[103,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;in these bundles, the entry point module exports a function named `buildRootObject`logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[103,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[103,logseq____&quot;^Flogseq____&quot;,78,536870919]],[logseq____&quot;^15logseq____&quot;,[103,logseq____&quot;^Xlogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[103,logseq____&quot;^Vlogseq____&quot;,101,536870919]],[logseq____&quot;^15logseq____&quot;,[103,logseq____&quot;^Ulogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[103,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9902-ff07-495a-b4c2-a67ad9410275logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[104,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;The kvStore has a subset of the key space reserved for holding bundles (mapping bundle ID to the JSON-encoded bundle). Another keyspace holds mapping from bundle name to bundle ID for the named bundles. These are accessed through `kernelKeeper` methods.logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[104,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[104,logseq____&quot;^Flogseq____&quot;,67,536870919]],[logseq____&quot;^15logseq____&quot;,[104,logseq____&quot;^Xlogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[104,logseq____&quot;^Vlogseq____&quot;,67,536870919]],[logseq____&quot;^15logseq____&quot;,[104,logseq____&quot;^Ulogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[104,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9901-2ee5-401e-8083-af674c6daab1logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[105,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;Bundlecaps are new device nodes created by the vatAdmin device. Internally, this device remembers the mapping from bundle ID to the device node ID (`dref`), and vice versa, in a pair of vatstore state entries. This mapping is not held in RAM: the state entries are looked up on each call to `getBundleID`/etc. The device can also access the kernelKeeper APIs to convert bundle IDs into full bundles, if requested.logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[105,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[105,logseq____&quot;^Flogseq____&quot;,104,536870919]],[logseq____&quot;^15logseq____&quot;,[105,logseq____&quot;^Xlogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[105,logseq____&quot;^Vlogseq____&quot;,67,536870919]],[logseq____&quot;^15logseq____&quot;,[105,logseq____&quot;^Ulogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[105,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9901-c141-47e2-b3f5-e4f79a2b8e8blogseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[106,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;We write source code in one or more files named \\logseq____&quot;modules\\logseq____&quot;, like `foo.js`. These modules will export some number of symbols (functions, etc), and can import symbols from other modules. These modules are organized into \\logseq____&quot;packages\\logseq____&quot;.logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[106,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[106,logseq____&quot;^Flogseq____&quot;,58,536870919]],[logseq____&quot;^15logseq____&quot;,[106,logseq____&quot;^Xlogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[106,logseq____&quot;^Vlogseq____&quot;,58,536870919]],[logseq____&quot;^15logseq____&quot;,[106,logseq____&quot;^Ulogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[106,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9902-d37c-48bd-8d41-007c4135c667logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[107,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;A \\logseq____&quot;bundlecap\\logseq____&quot; is an object (specifically a swingset \\logseq____&quot;device node\\logseq____&quot;) which identifies a specific installed bundle. Bundlecaps only exist within swingset vats. Each bundlecap knows the bundle ID to which it refers. There is at most one bundlecap per bundle ID. It is not possible to make a bundlecap for a bundle that is not yet installed into the enclosing kernel, and holding a bundlecap guarantees that the bundle will be available (bundles may be GCed, but the bundlecap holds a reference that inhibits collection).logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[107,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[107,logseq____&quot;^Flogseq____&quot;,95,536870919]],[logseq____&quot;^15logseq____&quot;,[107,logseq____&quot;^Xlogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[107,logseq____&quot;^Vlogseq____&quot;,95,536870919]],[logseq____&quot;^15logseq____&quot;,[107,logseq____&quot;^Ulogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[107,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9902-3c43-4fef-aaab-be03fcd12ffflogseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[108,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;The `config.bundles` object maps names to a bundle specification. These bundles are installed as above, and then a special \\logseq____&quot;named bundles\\logseq____&quot; table is updated with the name-to-bundle-ID mapping. These names are available to `E(vatAdminService).getNamedBundleCap(name) -logseq____&gt; bundleCap` and `E(vatAdminService).getBundleIDByName(name) -logseq____&gt; bundleID`. For example, the chainlogseq____&apos;s \\logseq____&quot;core bootstrap\\logseq____&quot; code will use this to define bundles for the core vats (Zoe, etc), and create dynamic vats at bootstrap time from them. It will also provide Zoe with the bundlecap for ZCF this way, so Zoe can later create dynamic ZCF vats. `E(vatAdminService).createVatByName(name)` will continue to be supported until core-bootstrap is updated to retrieve bundlecaps, after which vat-admin will drop `createVatByName` and only support `createVat(bundleCap)`.logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[108,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[108,logseq____&quot;^Flogseq____&quot;,39,536870919]],[logseq____&quot;^15logseq____&quot;,[108,logseq____&quot;^Xlogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[108,logseq____&quot;^Vlogseq____&quot;,68,536870919]],[logseq____&quot;^15logseq____&quot;,[108,logseq____&quot;^Ulogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[108,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9902-1eb6-4f2c-9d38-4424415c21fblogseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[109,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## BundleIDslogseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[109,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[109,logseq____&quot;^Flogseq____&quot;,114,536870919]],[logseq____&quot;^15logseq____&quot;,[109,logseq____&quot;^Xlogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[109,logseq____&quot;^Vlogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[109,logseq____&quot;^Ulogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[109,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^17logseq____&quot;,2],536870919]],[logseq____&quot;^15logseq____&quot;,[109,logseq____&quot;^Jlogseq____&quot;,[],536870919]],[logseq____&quot;^15logseq____&quot;,[109,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9902-fbc6-451e-963a-4edcde259205logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[110,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;==A \\logseq____&quot;bundlecap\\logseq____&quot; is an object (specifically a swingset \\logseq____&quot;device node\\logseq____&quot;) which identifies a specific installed bundle==. Bundlecaps only exist within swingset vats. Each bundlecap knows the bundle ID to which it refers. There is at most one bundlecap per bundle ID. ==It is not possible to make a bundlecap for a bundle that is not yet installed into the enclosing kernel, and holding a bundlecap guarantees that the bundle will be available== (bundles may be GCed, but the bundlecap holds a reference that inhibits collection).logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[110,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[110,logseq____&quot;^Flogseq____&quot;,115,536870919]],[logseq____&quot;^15logseq____&quot;,[110,logseq____&quot;^Xlogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[110,logseq____&quot;^Vlogseq____&quot;,115,536870919]],[logseq____&quot;^15logseq____&quot;,[110,logseq____&quot;^Ulogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[110,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9902-ca22-4a0c-bc9f-7a4a108c24b7logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[111,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;==The `importBundle()` function takes a bundle object and evaluates it, returning (a promise for) a \\logseq____&quot;module namespace object\\logseq____&quot;, which contains all the exports of the entry-point module. You can think of `importBundle()` as what Node.js effectively does when you run `node ./foo.js`: it does the equivalent of `bundleSource()` followed by an immediate `importBundle()`, ignoring the exported symbols but executing everything in `foo.js` as a side-effect.==logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[111,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[111,logseq____&quot;^Flogseq____&quot;,89,536870919]],[logseq____&quot;^15logseq____&quot;,[111,logseq____&quot;^Xlogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[111,logseq____&quot;^Vlogseq____&quot;,58,536870919]],[logseq____&quot;^15logseq____&quot;,[111,logseq____&quot;^Ulogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[111,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9902-3210-4f47-9dfa-8f8d414c795clogseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[112,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## Bundle Installation Through Configlogseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[112,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[112,logseq____&quot;^Flogseq____&quot;,33,536870919]],[logseq____&quot;^15logseq____&quot;,[112,logseq____&quot;^Xlogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[112,logseq____&quot;^Vlogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[112,logseq____&quot;^Ulogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[112,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^17logseq____&quot;,2],536870919]],[logseq____&quot;^15logseq____&quot;,[112,logseq____&quot;^Jlogseq____&quot;,[],536870919]],[logseq____&quot;^15logseq____&quot;,[112,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9902-d713-4f46-882e-77fddb0d3936logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[113,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;The swingset kernel maintains a \\logseq____&quot;bundle table\\logseq____&quot; in the kernel database. Bundles can be installed here, indexed by their bundle ID, and retrieved for various purposes:logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[113,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[113,logseq____&quot;^Flogseq____&quot;,33,536870919]],[logseq____&quot;^15logseq____&quot;,[113,logseq____&quot;^Xlogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[113,logseq____&quot;^Vlogseq____&quot;,33,536870919]],[logseq____&quot;^15logseq____&quot;,[113,logseq____&quot;^Ulogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[113,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9902-9212-4f36-a634-7c9ab7950df1logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[114,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## What Is A Bundle?logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[114,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[114,logseq____&quot;^Flogseq____&quot;,63,536870919]],[logseq____&quot;^15logseq____&quot;,[114,logseq____&quot;^Xlogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[114,logseq____&quot;^Vlogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[114,logseq____&quot;^Ulogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[114,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^17logseq____&quot;,2],536870919]],[logseq____&quot;^15logseq____&quot;,[114,logseq____&quot;^Jlogseq____&quot;,[],536870919]],[logseq____&quot;^15logseq____&quot;,[114,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9902-27ca-4785-ac15-36515a121dc5logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[115,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## Bundlecapslogseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[115,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[115,logseq____&quot;^Flogseq____&quot;,56,536870919]],[logseq____&quot;^15logseq____&quot;,[115,logseq____&quot;^Xlogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[115,logseq____&quot;^Vlogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[115,logseq____&quot;^Ulogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[115,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^17logseq____&quot;,2],536870919]],[logseq____&quot;^15logseq____&quot;,[115,logseq____&quot;^Jlogseq____&quot;,[],536870919]],[logseq____&quot;^15logseq____&quot;,[115,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9902-0cf4-47e4-a63d-e803296d4667logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[116,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## Using Bundlecapslogseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[116,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[116,logseq____&quot;^Flogseq____&quot;,46,536870919]],[logseq____&quot;^15logseq____&quot;,[116,logseq____&quot;^Xlogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[116,logseq____&quot;^Vlogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[116,logseq____&quot;^Ulogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[116,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^17logseq____&quot;,2],536870919]],[logseq____&quot;^15logseq____&quot;,[116,logseq____&quot;^Jlogseq____&quot;,[],536870919]],[logseq____&quot;^15logseq____&quot;,[116,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9902-0a6e-4e3e-a98a-c89b2f733738logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[117,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;Once the kernel is up and running, new bundles can be installed with the `controller.validateAndInstallBundle()` interface. This accepts a bundle and an optional alleged bundle ID. It performs validity checks: if the ID is provided but does not match the compartment map, or if (TODO) the bundle contents do not match the compartment map, or if (TODO) the contents do not parse as JavaScript modules, then it will throw. If everything looks good, it will install the bundle into the table and return the computed bundle ID.logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[117,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[117,logseq____&quot;^Flogseq____&quot;,93,536870919]],[logseq____&quot;^15logseq____&quot;,[117,logseq____&quot;^Xlogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[117,logseq____&quot;^Vlogseq____&quot;,93,536870919]],[logseq____&quot;^15logseq____&quot;,[117,logseq____&quot;^Ulogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[117,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9902-f10d-4973-b127-e1fd58f87fc7logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[118,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;Once the bundle is installed, the external caller can send a vat-level message with the bundle ID to some vat within the kernel. The receiving vat can then do `E(vatAdminService).getBundleCap(bundleID) -logseq____&gt; bundleCap` to get a handle from which vats can be created.logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[118,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[118,logseq____&quot;^Flogseq____&quot;,90,536870919]],[logseq____&quot;^15logseq____&quot;,[118,logseq____&quot;^Xlogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[118,logseq____&quot;^Vlogseq____&quot;,46,536870919]],[logseq____&quot;^15logseq____&quot;,[118,logseq____&quot;^Ulogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[118,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9902-7f71-4a6f-b070-2e3da09b3cf1logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[119,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;the Zoe \\logseq____&quot;ZCF\\logseq____&quot; facet uses this to load contract code within an existing vatlogseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[119,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[119,logseq____&quot;^Flogseq____&quot;,99,536870919]],[logseq____&quot;^15logseq____&quot;,[119,logseq____&quot;^Xlogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[119,logseq____&quot;^Vlogseq____&quot;,33,536870919]],[logseq____&quot;^15logseq____&quot;,[119,logseq____&quot;^Ulogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[119,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9902-44ad-4523-9e41-ee5178d23457logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[120,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;But once a bundlecap is obtained, the corresponding bundle is guaranteed to be available. We do not yet have GC for bundles, but once we do, each copy of the bundlecap will establish a reference count. As long as any bundlecap is still held, the bundle will be held too. Bundles will be deleted at some point after the last bundlecap is gone. (We need a story for what keeps the bundle alive between the external `controller.validateAndInstallBundle()` and some vat getting a bundlecap, but that interval is not expected to be very long, so we might just use explicit GC actions that we donlogseq____&apos;t run very often).logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[120,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[120,logseq____&quot;^Flogseq____&quot;,143,536870919]],[logseq____&quot;^15logseq____&quot;,[120,logseq____&quot;^Xlogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[120,logseq____&quot;^Vlogseq____&quot;,121,536870919]],[logseq____&quot;^15logseq____&quot;,[120,logseq____&quot;^Ulogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[120,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9902-845d-4c93-919c-dd2b6f89e9b6logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[121,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## Determinismlogseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[121,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[121,logseq____&quot;^Flogseq____&quot;,74,536870919]],[logseq____&quot;^15logseq____&quot;,[121,logseq____&quot;^Xlogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[121,logseq____&quot;^Vlogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[121,logseq____&quot;^Ulogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[121,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^17logseq____&quot;,2],536870919]],[logseq____&quot;^15logseq____&quot;,[121,logseq____&quot;^Jlogseq____&quot;,[],536870919]],[logseq____&quot;^15logseq____&quot;,[121,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9902-e36f-48e0-976e-5f8fd117a338logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[122,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;When defining a static vat in the Swingset `config.vats` object, the filename provided as `sourceSpec` is turned into a bundle, the bundle is installed into the bundle table, and resulting bundle ID is stored in the vatlogseq____&apos;s database record. When the static vat is launched, the DB record provides the bundle ID, and the bundle is loaded and evaluated in a new vat worker.logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[122,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[122,logseq____&quot;^Flogseq____&quot;,112,536870919]],[logseq____&quot;^15logseq____&quot;,[122,logseq____&quot;^Xlogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[122,logseq____&quot;^Vlogseq____&quot;,112,536870919]],[logseq____&quot;^15logseq____&quot;,[122,logseq____&quot;^Ulogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[122,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9902-3c5e-4fc4-a3eb-60c9c2b9253dlogseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[123,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;The `initializeSwingset()` function, called when the host application is first configured, creates bundles for built-in vats and devices (timer, vatAdmin, mailbox), as well as liveslots and the kernel, and installs them into the table as well. Internally, the kernel remembers the bundle ID of each one for later use.logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[123,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[123,logseq____&quot;^Flogseq____&quot;,64,536870919]],[logseq____&quot;^15logseq____&quot;,[123,logseq____&quot;^Xlogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[123,logseq____&quot;^Vlogseq____&quot;,112,536870919]],[logseq____&quot;^15logseq____&quot;,[123,logseq____&quot;^Ulogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[123,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9902-827d-4cde-b1dd-69509f2e759clogseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[124,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## Determinismlogseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[124,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[124,logseq____&quot;^Flogseq____&quot;,67,536870919]],[logseq____&quot;^15logseq____&quot;,[124,logseq____&quot;^Xlogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[124,logseq____&quot;^Vlogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[124,logseq____&quot;^Ulogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[124,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^17logseq____&quot;,2],536870919]],[logseq____&quot;^15logseq____&quot;,[124,logseq____&quot;^Jlogseq____&quot;,[],536870919]],[logseq____&quot;^15logseq____&quot;,[124,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9901-50e1-40f6-8191-3b5e8e7d0db5logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[125,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;We define the \\logseq____&quot;bundle ID\\logseq____&quot; as a hash of the bundlelogseq____&apos;s compartment map file, specifically the fixed string `b1-` followed by the lowercase hex encoding of the SHA512 hash of the compartment map file. The compartment map includes hashes of all the modules included in the bundle, and the validation process ensures that the bundle contains exactly the expected set of modules. So the bundle ID is a strong identifier of the contents of the bundle, which is not sensitive to the order of the zipfile contents.logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[125,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[125,logseq____&quot;^Flogseq____&quot;,109,536870919]],[logseq____&quot;^15logseq____&quot;,[125,logseq____&quot;^Xlogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[125,logseq____&quot;^Vlogseq____&quot;,109,536870919]],[logseq____&quot;^15logseq____&quot;,[125,logseq____&quot;^Ulogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[125,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9902-4eb0-4622-889b-2ea6df37ec59logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[126,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;swingset devices are defined by bundles that are stored in the bundle tablelogseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[126,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[126,logseq____&quot;^Flogseq____&quot;,76,536870919]],[logseq____&quot;^15logseq____&quot;,[126,logseq____&quot;^Xlogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[126,logseq____&quot;^Vlogseq____&quot;,33,536870919]],[logseq____&quot;^15logseq____&quot;,[126,logseq____&quot;^Ulogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[126,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9902-60c2-4b35-b062-49785e881aablogseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[127,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;The swingset kernel provides tools to install, reference, and evaluate \\logseq____&quot;Code Bundles\\logseq____&quot;. Vats can be created from a bundle, and vats can pass around \\logseq____&quot;bundlecaps\\logseq____&quot; to refer to previously-installed bundles. Using bundlecaps is much more efficient than passing the entire (large) bundle object through messages.logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[127,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[127,logseq____&quot;^Flogseq____&quot;,63,536870919]],[logseq____&quot;^15logseq____&quot;,[127,logseq____&quot;^Xlogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[127,logseq____&quot;^Vlogseq____&quot;,63,536870919]],[logseq____&quot;^15logseq____&quot;,[127,logseq____&quot;^Ulogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[127,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9902-d539-49f1-9cb8-6a6481c5607flogseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[128,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;through `vatAdminService~.getBundleCap()`, vat code can exchange a bundle ID for a bundlecaplogseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[128,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[128,logseq____&quot;^Flogseq____&quot;,44,536870919]],[logseq____&quot;^15logseq____&quot;,[128,logseq____&quot;^Xlogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[128,logseq____&quot;^Vlogseq____&quot;,33,536870919]],[logseq____&quot;^15logseq____&quot;,[128,logseq____&quot;^Ulogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[128,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9902-2662-4de5-a6e7-1ddc22dd5b5alogseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[129,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;A \\logseq____&quot;code bundle\\logseq____&quot; is a data structure that captures the contents of these modules and the linkage map (called a \\logseq____&quot;compartment map\\logseq____&quot;). Bundles are JSON-serializable objects, with one mandatory string property named `moduleFormat`, and other properties that depend on the format. Typically there is exactly one other property, and its value is a very large string (1-2 MB is common). Our bundles use a format defined by [Endo](https://github.com/endojs/endo/), named \\logseq____&quot;EndoZipBase64\\logseq____&quot;, in which the \\logseq____&quot;very large string\\logseq____&quot; is a base64-encoded Zip file, which contains one component for the compartment map, plus components for each of the modules it includes.logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[129,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[129,logseq____&quot;^Flogseq____&quot;,132,536870919]],[logseq____&quot;^15logseq____&quot;,[129,logseq____&quot;^Xlogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[129,logseq____&quot;^Vlogseq____&quot;,114,536870919]],[logseq____&quot;^15logseq____&quot;,[129,logseq____&quot;^Ulogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[129,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9902-64b3-4bae-a627-d9cefd7ce898logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[130,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;Note that the `waitForBundleCap()` method will wait (possibly forever) for the bundle ID to be installed before resolving its Promise, so the Promise will never resolve to `undefined`.logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[130,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[130,logseq____&quot;^Flogseq____&quot;,36,536870919]],[logseq____&quot;^15logseq____&quot;,[130,logseq____&quot;^Xlogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[130,logseq____&quot;^Vlogseq____&quot;,36,536870919]],[logseq____&quot;^15logseq____&quot;,[130,logseq____&quot;^Ulogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[130,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9901-4d0f-4d6c-8b24-8f59736eaba5logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[131,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;Bundlecaps are new device nodes created by the vatAdmin device. Internally, this device remembers the mapping from bundle ID to the device node ID (`dref`), and vice versa, in a pair of vatstore state entries. This mapping is not held in RAM: the state entries are looked up on each call to `getBundleID`/etc. The device can also access the kernelKeeper APIs to convert bundle IDs into full bundles, if requested.logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[131,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[131,logseq____&quot;^Flogseq____&quot;,31,536870919]],[logseq____&quot;^15logseq____&quot;,[131,logseq____&quot;^Xlogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[131,logseq____&quot;^Vlogseq____&quot;,54,536870919]],[logseq____&quot;^15logseq____&quot;,[131,logseq____&quot;^Ulogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[131,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9902-bcd9-48aa-8afc-8892a1a1c1a4logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[132,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;If you point at a single \\logseq____&quot;entry point\\logseq____&quot; module, and chase down all the `import` statements, youlogseq____&apos;ll find some other set of module files. Following the transitive `import` statements leads to a collection of modules and a linkage map which remembers how they are wired together.logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[132,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[132,logseq____&quot;^Flogseq____&quot;,47,536870919]],[logseq____&quot;^15logseq____&quot;,[132,logseq____&quot;^Xlogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[132,logseq____&quot;^Vlogseq____&quot;,114,536870919]],[logseq____&quot;^15logseq____&quot;,[132,logseq____&quot;^Ulogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[132,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9902-4fc8-4922-8182-ed56ee30f920logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[133,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;the Zoe \\logseq____&quot;ZCF\\logseq____&quot; facet uses this to load contract code within an existing vatlogseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[133,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[133,logseq____&quot;^Flogseq____&quot;,134,536870919]],[logseq____&quot;^15logseq____&quot;,[133,logseq____&quot;^Xlogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[133,logseq____&quot;^Vlogseq____&quot;,101,536870919]],[logseq____&quot;^15logseq____&quot;,[133,logseq____&quot;^Ulogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[133,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9902-a6f4-4705-8449-754f0db47824logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[134,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;userspace can use `D(bundleCap).getBundle()` to fetch the bundle itself, for use with an `importBundle()` that does not create an entire new vatlogseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[134,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[134,logseq____&quot;^Flogseq____&quot;,80,536870919]],[logseq____&quot;^15logseq____&quot;,[134,logseq____&quot;^Xlogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[134,logseq____&quot;^Vlogseq____&quot;,101,536870919]],[logseq____&quot;^15logseq____&quot;,[134,logseq____&quot;^Ulogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[134,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9902-87f8-481f-8c2d-f8b4a437ad3elogseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[135,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;Bundles are interesting because they can be serialized and sent to a remote system. They can be saved in a database and instantiated (evaluated/imported) later, possibly multiple times.logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[135,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[135,logseq____&quot;^Flogseq____&quot;,111,536870919]],[logseq____&quot;^15logseq____&quot;,[135,logseq____&quot;^Xlogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[135,logseq____&quot;^Vlogseq____&quot;,58,536870919]],[logseq____&quot;^15logseq____&quot;,[135,logseq____&quot;^Ulogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[135,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9902-6db9-464f-a79b-148249652e79logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[136,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;A bundle might be assembled piecemeal. If I want to give you a bundle, and you already have a number of similar bundles, we can compare the modules in each and figure out the ones my bundle needs but you donlogseq____&apos;t have yet. Then I can send you just the compartment map and the missing modules, and you can reassemble a functionally identical bundle. The bundle ID will be the same, the imported behavior will be the same, but the zipfile itself might be slightly different. This lets us minimize the amount of data transmitted and stored.logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[136,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[136,logseq____&quot;^Flogseq____&quot;,125,536870919]],[logseq____&quot;^15logseq____&quot;,[136,logseq____&quot;^Xlogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[136,logseq____&quot;^Vlogseq____&quot;,109,536870919]],[logseq____&quot;^15logseq____&quot;,[136,logseq____&quot;^Ulogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[136,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9902-6065-4257-be50-436d733b3a61logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[137,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;By moving bundle installation into a separate external interface, vat-level messages can remain small. Currently the only place the full bundle will appear is in a vat transcript, in the results of the syscall that implements `D(bundleCap).getBundle()`, when userspace needs to do an `importBundle()` directly, and we hope to remove even that copy in the future.logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[137,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[137,logseq____&quot;^Flogseq____&quot;,51,536870919]],[logseq____&quot;^15logseq____&quot;,[137,logseq____&quot;^Xlogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[137,logseq____&quot;^Vlogseq____&quot;,46,536870919]],[logseq____&quot;^15logseq____&quot;,[137,logseq____&quot;^Ulogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[137,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9902-7549-44ab-945e-dad527b1cddelogseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[138,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;A future version of this interface will expose enough information to install individual modules first, and then \\logseq____&quot;install\\logseq____&quot; a bundle from just the compartment map contents (after checking that all the required modules are already present).logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[138,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[138,logseq____&quot;^Flogseq____&quot;,41,536870919]],[logseq____&quot;^15logseq____&quot;,[138,logseq____&quot;^Xlogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[138,logseq____&quot;^Vlogseq____&quot;,93,536870919]],[logseq____&quot;^15logseq____&quot;,[138,logseq____&quot;^Ulogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[138,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9902-a9ad-43bb-97df-72881235a25clogseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[139,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;each vat also has a \\logseq____&quot;liveslots\\logseq____&quot; layer, defined by a bundlelogseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[139,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[139,logseq____&quot;^Flogseq____&quot;,86,536870919]],[logseq____&quot;^15logseq____&quot;,[139,logseq____&quot;^Xlogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[139,logseq____&quot;^Vlogseq____&quot;,33,536870919]],[logseq____&quot;^15logseq____&quot;,[139,logseq____&quot;^Ulogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[139,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9902-69b6-46e7-b92b-4e65e64af12elogseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[140,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;Bundles are interesting because they can be serialized and sent to a remote system. They can be saved in a database and instantiated (evaluated/imported) later, possibly multiple times.logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[140,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[140,logseq____&quot;^Flogseq____&quot;,35,536870919]],[logseq____&quot;^15logseq____&quot;,[140,logseq____&quot;^Xlogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[140,logseq____&quot;^Vlogseq____&quot;,114,536870919]],[logseq____&quot;^15logseq____&quot;,[140,logseq____&quot;^Ulogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[140,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9902-ea80-46bd-b1d6-dc9715033ef8logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[141,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;Bundle installation is a transactional event: it must happen, and be committed, before the bundle is available. `E(vatAdminService).getBundleCap(bundleID)` will fail (consistently) if the bundle was not already installed. Host applications (like a chain) should perform `validateAndInstallBundle()` from within a transaction, so all validators maintain consensus about whether the bundle is installed or not.logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[141,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[141,logseq____&quot;^Flogseq____&quot;,124,536870919]],[logseq____&quot;^15logseq____&quot;,[141,logseq____&quot;^Xlogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[141,logseq____&quot;^Vlogseq____&quot;,124,536870919]],[logseq____&quot;^15logseq____&quot;,[141,logseq____&quot;^Ulogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[141,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9901-6140-46d8-90ad-78d2fb4fa3bclogseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[142,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;the kernel source code itself is stored in a bundle, to make it easier to switch from one version of the kernel to another at a pre-determined timelogseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[142,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[142,logseq____&quot;^Flogseq____&quot;,126,536870919]],[logseq____&quot;^15logseq____&quot;,[142,logseq____&quot;^Xlogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[142,logseq____&quot;^Vlogseq____&quot;,33,536870919]],[logseq____&quot;^15logseq____&quot;,[142,logseq____&quot;^Ulogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[142,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9902-eeda-46bf-a4c1-2a90c05101a5logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[143,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;Bundle installation is a transactional event: it must happen, and be committed, before the bundle is available. `E(vatAdminService).getBundleCap(bundleID)` will fail (consistently) if the bundle was not already installed. Host applications (like a chain) should perform `validateAndInstallBundle()` from within a transaction, so all validators maintain consensus about whether the bundle is installed or not.logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[143,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[143,logseq____&quot;^Flogseq____&quot;,121,536870919]],[logseq____&quot;^15logseq____&quot;,[143,logseq____&quot;^Xlogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[143,logseq____&quot;^Vlogseq____&quot;,121,536870919]],[logseq____&quot;^15logseq____&quot;,[143,logseq____&quot;^Ulogseq____&quot;,27,536870919]],[logseq____&quot;^15logseq____&quot;,[143,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9902-a840-42cf-937b-d44122ad87f4logseq____&quot;,536870919]],[logseq____&quot;^15logseq____&quot;,[145,logseq____&quot;^Klogseq____&quot;,1725602050196,536870920]],[logseq____&quot;^15logseq____&quot;,[145,logseq____&quot;^@logseq____&quot;,false,536870920]],[logseq____&quot;^15logseq____&quot;,[145,logseq____&quot;^Ylogseq____&quot;,logseq____&quot;swingsetlogseq____&quot;,536870920]],[logseq____&quot;^15logseq____&quot;,[145,logseq____&quot;^11logseq____&quot;,logseq____&quot;SwingSetlogseq____&quot;,536870920]],[logseq____&quot;^15logseq____&quot;,[145,logseq____&quot;^Blogseq____&quot;,1725602050196,536870920]],[logseq____&quot;^15logseq____&quot;,[145,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9902-7c81-40ee-833b-9c53b5da4649logseq____&quot;,536870920]],[logseq____&quot;^15logseq____&quot;,[146,logseq____&quot;^Klogseq____&quot;,1725602050198,536870920]],[logseq____&quot;^15logseq____&quot;,[146,logseq____&quot;^@logseq____&quot;,false,536870920]],[logseq____&quot;^15logseq____&quot;,[146,logseq____&quot;^Ylogseq____&quot;,logseq____&quot;the run policylogseq____&quot;,536870920]],[logseq____&quot;^15logseq____&quot;,[146,logseq____&quot;^11logseq____&quot;,logseq____&quot;The Run Policylogseq____&quot;,536870920]],[logseq____&quot;^15logseq____&quot;,[146,logseq____&quot;^Blogseq____&quot;,1725602050198,536870920]],[logseq____&quot;^15logseq____&quot;,[146,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9902-2958-4f17-9087-bfc551b19068logseq____&quot;,536870921]],[logseq____&quot;^15logseq____&quot;,[147,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;### Swingset VMlogseq____&quot;,536870920]],[logseq____&quot;^15logseq____&quot;,[147,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870920]],[logseq____&quot;^15logseq____&quot;,[147,logseq____&quot;^Flogseq____&quot;,145,536870920]],[logseq____&quot;^15logseq____&quot;,[147,logseq____&quot;^Xlogseq____&quot;,145,536870920]],[logseq____&quot;^15logseq____&quot;,[147,logseq____&quot;^Vlogseq____&quot;,145,536870920]],[logseq____&quot;^15logseq____&quot;,[147,logseq____&quot;^Ulogseq____&quot;,145,536870920]],[logseq____&quot;^15logseq____&quot;,[147,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^17logseq____&quot;,3],536870920]],[logseq____&quot;^15logseq____&quot;,[147,logseq____&quot;^Jlogseq____&quot;,[],536870920]],[logseq____&quot;^15logseq____&quot;,[147,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9902-29fc-4d5f-9f37-e5a46f705df5logseq____&quot;,536870920]],[logseq____&quot;^15logseq____&quot;,[148,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;[[Code Bundles]]logseq____&quot;,536870920]],[logseq____&quot;^15logseq____&quot;,[148,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870920]],[logseq____&quot;^15logseq____&quot;,[148,logseq____&quot;^Flogseq____&quot;,147,536870920]],[logseq____&quot;^15logseq____&quot;,[148,logseq____&quot;^Xlogseq____&quot;,145,536870920]],[logseq____&quot;^15logseq____&quot;,[148,logseq____&quot;^Vlogseq____&quot;,147,536870920]],[logseq____&quot;^15logseq____&quot;,[148,logseq____&quot;^Ulogseq____&quot;,27,536870920]],[logseq____&quot;^15logseq____&quot;,[148,logseq____&quot;^Ulogseq____&quot;,145,536870920]],[logseq____&quot;^15logseq____&quot;,[148,logseq____&quot;^Hlogseq____&quot;,27,536870920]],[logseq____&quot;^15logseq____&quot;,[148,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9902-2f20-4e6d-94e0-baaa7d09b1d1logseq____&quot;,536870920]],[logseq____&quot;^15logseq____&quot;,[149,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;[[The Run Policy]]logseq____&quot;,536870920]],[logseq____&quot;^15logseq____&quot;,[149,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870920]],[logseq____&quot;^15logseq____&quot;,[149,logseq____&quot;^Flogseq____&quot;,148,536870920]],[logseq____&quot;^15logseq____&quot;,[149,logseq____&quot;^Xlogseq____&quot;,145,536870920]],[logseq____&quot;^15logseq____&quot;,[149,logseq____&quot;^Vlogseq____&quot;,147,536870920]],[logseq____&quot;^15logseq____&quot;,[149,logseq____&quot;^Ulogseq____&quot;,145,536870920]],[logseq____&quot;^15logseq____&quot;,[149,logseq____&quot;^Ulogseq____&quot;,146,536870920]],[logseq____&quot;^15logseq____&quot;,[149,logseq____&quot;^Hlogseq____&quot;,146,536870920]],[logseq____&quot;^15logseq____&quot;,[149,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9902-1e3d-4a53-b901-ab9cffeae3e8logseq____&quot;,536870920]],[logseq____&quot;^15logseq____&quot;,[150,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;logseq____&quot;,536870920]],[logseq____&quot;^15logseq____&quot;,[150,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870920]],[logseq____&quot;^15logseq____&quot;,[150,logseq____&quot;^Flogseq____&quot;,149,536870920]],[logseq____&quot;^15logseq____&quot;,[150,logseq____&quot;^Xlogseq____&quot;,145,536870920]],[logseq____&quot;^15logseq____&quot;,[150,logseq____&quot;^Vlogseq____&quot;,147,536870920]],[logseq____&quot;^15logseq____&quot;,[150,logseq____&quot;^Ulogseq____&quot;,145,536870920]],[logseq____&quot;^15logseq____&quot;,[150,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9902-7837-47ab-b141-752c264f89ealogseq____&quot;,536870920]],[logseq____&quot;^15logseq____&quot;,[151,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;logseq____&quot;,536870920]],[logseq____&quot;^15logseq____&quot;,[151,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870920]],[logseq____&quot;^15logseq____&quot;,[151,logseq____&quot;^Flogseq____&quot;,147,536870920]],[logseq____&quot;^15logseq____&quot;,[151,logseq____&quot;^Xlogseq____&quot;,145,536870920]],[logseq____&quot;^15logseq____&quot;,[151,logseq____&quot;^Vlogseq____&quot;,145,536870920]],[logseq____&quot;^15logseq____&quot;,[151,logseq____&quot;^Ulogseq____&quot;,145,536870920]],[logseq____&quot;^15logseq____&quot;,[151,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9902-1b60-4204-bbbe-3724c80ca4a7logseq____&quot;,536870920]],[logseq____&quot;^15logseq____&quot;,[153,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`crankFailed` indicates the vat suffered an error during crank delivery, such as a metering fault, memory allocation fault, or fatal syscall. We do not currently have a way to measure the computron usage of failed cranks (many of the error cases are signaled by the worker process exiting with a distinctive status code, which does not give it an opportunity to report back detailed metering data). The run policy should assume the worst.logseq____&quot;,536870921]],[logseq____&quot;^15logseq____&quot;,[153,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870921]],[logseq____&quot;^15logseq____&quot;,[153,logseq____&quot;^Flogseq____&quot;,195,536870921]],[logseq____&quot;^15logseq____&quot;,[153,logseq____&quot;^Xlogseq____&quot;,146,536870921]],[logseq____&quot;^15logseq____&quot;,[153,logseq____&quot;^Vlogseq____&quot;,188,536870921]],[logseq____&quot;^15logseq____&quot;,[153,logseq____&quot;^Ulogseq____&quot;,146,536870921]],[logseq____&quot;^15logseq____&quot;,[153,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9902-fb90-4e2b-b9d8-a501fa25eab5logseq____&quot;,536870921]],[logseq____&quot;^15logseq____&quot;,[154,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```js\\nfunction makeComputronCounterPolicy(limit) {\\n    let total = 0;\\n    const policy = harden({\\n      vatCreated() {\\n        total += 100000; // pretend vat creation takes 100k computrons\\n        return (total logseq____&lt; limit);\\n      },\\n      crankComplete(details) {\\n        const { computrons } = details;\\n        total += computrons;\\n        return (total logseq____&lt; limit);\\n      },\\n      crankFailed() {\\n        total += 1000000; // who knows, 1M is as good as anything\\n        return (total logseq____&lt; limit);\\n      },\\n      emptyCrank() {\\n        return true;\\n      }\\n  });\\n}\\n```logseq____&quot;,536870921]],[logseq____&quot;^15logseq____&quot;,[154,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870921]],[logseq____&quot;^15logseq____&quot;,[154,logseq____&quot;^Flogseq____&quot;,173,536870921]],[logseq____&quot;^15logseq____&quot;,[154,logseq____&quot;^Xlogseq____&quot;,146,536870921]],[logseq____&quot;^15logseq____&quot;,[154,logseq____&quot;^Vlogseq____&quot;,182,536870921]],[logseq____&quot;^15logseq____&quot;,[154,logseq____&quot;^Ulogseq____&quot;,146,536870921]],[logseq____&quot;^15logseq____&quot;,[154,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9902-5d85-4935-a790-cd8315fa21e6logseq____&quot;,536870921]],[logseq____&quot;^15logseq____&quot;,[155,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`emptyCrank` indicates the kernel processed a queued messages which didnlogseq____&apos;t result in a delivery.logseq____&quot;,536870921]],[logseq____&quot;^15logseq____&quot;,[155,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870921]],[logseq____&quot;^15logseq____&quot;,[155,logseq____&quot;^Flogseq____&quot;,153,536870921]],[logseq____&quot;^15logseq____&quot;,[155,logseq____&quot;^Xlogseq____&quot;,146,536870921]],[logseq____&quot;^15logseq____&quot;,[155,logseq____&quot;^Vlogseq____&quot;,188,536870921]],[logseq____&quot;^15logseq____&quot;,[155,logseq____&quot;^Ulogseq____&quot;,146,536870921]],[logseq____&quot;^15logseq____&quot;,[155,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9902-814b-41d7-adb7-b26e6415e34blogseq____&quot;,536870921]],[logseq____&quot;^15logseq____&quot;,[156,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;If the SwingSet kernel is not being operated in consensus mode, then it is safe to use wallclock time as a block limit:logseq____&quot;,536870921]],[logseq____&quot;^15logseq____&quot;,[156,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870921]],[logseq____&quot;^15logseq____&quot;,[156,logseq____&quot;^Flogseq____&quot;,159,536870921]],[logseq____&quot;^15logseq____&quot;,[156,logseq____&quot;^Xlogseq____&quot;,146,536870921]],[logseq____&quot;^15logseq____&quot;,[156,logseq____&quot;^Vlogseq____&quot;,159,536870921]],[logseq____&quot;^15logseq____&quot;,[156,logseq____&quot;^Ulogseq____&quot;,146,536870921]],[logseq____&quot;^15logseq____&quot;,[156,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9902-0619-4a32-b853-4dd622dae22alogseq____&quot;,536870921]],[logseq____&quot;^15logseq____&quot;,[157,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```jsfunction make100CrankPolicy() {\\nlet cranks = 0;\\nlet vats = 0;\\nconst policy  = harden({\\n  vatCreated() {\\n  vats += 1;\\n  return (vats logseq____&lt; 2);\\n  },\\n  crankComplete(details) {\\n  cranks += 1;\\n  return (cranks logseq____&lt; 100);\\n  },\\n  crankFailed() {\\n  cranks += 1;\\n  return (cranks logseq____&lt; 100);\\n  },\\n  emptyCrank() {\\n  return true;\\n  },\\n});\\n}\\n//and would be supplied like:\\nwhile(1) {\\n  processInboundIO();\\n  const policy = make100CrankPolicy();\\n  await controller.run(policy);\\n  await commit();\\n  processOutboundIO();\\n}\\n ```logseq____&quot;,536870921]],[logseq____&quot;^15logseq____&quot;,[157,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870921]],[logseq____&quot;^15logseq____&quot;,[157,logseq____&quot;^Flogseq____&quot;,174,536870921]],[logseq____&quot;^15logseq____&quot;,[157,logseq____&quot;^Xlogseq____&quot;,146,536870921]],[logseq____&quot;^15logseq____&quot;,[157,logseq____&quot;^Vlogseq____&quot;,182,536870921]],[logseq____&quot;^15logseq____&quot;,[157,logseq____&quot;^Ulogseq____&quot;,146,536870921]],[logseq____&quot;^15logseq____&quot;,[157,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9902-b0c7-47af-b6a4-cd5ff8d835f9logseq____&quot;,536870921]],[logseq____&quot;^15logseq____&quot;,[158,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;promise resolution notifications (provoked by `syscall.resolve`, delivered as `dispatch.notify`)logseq____&quot;,536870921]],[logseq____&quot;^15logseq____&quot;,[158,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870921]],[logseq____&quot;^15logseq____&quot;,[158,logseq____&quot;^Flogseq____&quot;,187,536870921]],[logseq____&quot;^15logseq____&quot;,[158,logseq____&quot;^Xlogseq____&quot;,146,536870921]],[logseq____&quot;^15logseq____&quot;,[158,logseq____&quot;^Vlogseq____&quot;,172,536870921]],[logseq____&quot;^15logseq____&quot;,[158,logseq____&quot;^Ulogseq____&quot;,146,536870921]],[logseq____&quot;^15logseq____&quot;,[158,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9902-a18f-4357-86ef-25fb7b09e839logseq____&quot;,536870921]],[logseq____&quot;^15logseq____&quot;,[159,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## Non-Consensus Wallclock Limitslogseq____&quot;,536870921]],[logseq____&quot;^15logseq____&quot;,[159,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870921]],[logseq____&quot;^15logseq____&quot;,[159,logseq____&quot;^Flogseq____&quot;,182,536870921]],[logseq____&quot;^15logseq____&quot;,[159,logseq____&quot;^Xlogseq____&quot;,146,536870921]],[logseq____&quot;^15logseq____&quot;,[159,logseq____&quot;^Vlogseq____&quot;,146,536870921]],[logseq____&quot;^15logseq____&quot;,[159,logseq____&quot;^Ulogseq____&quot;,146,536870921]],[logseq____&quot;^15logseq____&quot;,[159,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^17logseq____&quot;,2],536870921]],[logseq____&quot;^15logseq____&quot;,[159,logseq____&quot;^Jlogseq____&quot;,[],536870921]],[logseq____&quot;^15logseq____&quot;,[159,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9902-ad1f-49b2-bbbf-d9c3c366774alogseq____&quot;,536870921]],[logseq____&quot;^15logseq____&quot;,[160,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;Note that a new policy object should be provided for each call to `run()`.logseq____&quot;,536870921]],[logseq____&quot;^15logseq____&quot;,[160,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870921]],[logseq____&quot;^15logseq____&quot;,[160,logseq____&quot;^Flogseq____&quot;,157,536870921]],[logseq____&quot;^15logseq____&quot;,[160,logseq____&quot;^Xlogseq____&quot;,146,536870921]],[logseq____&quot;^15logseq____&quot;,[160,logseq____&quot;^Vlogseq____&quot;,182,536870921]],[logseq____&quot;^15logseq____&quot;,[160,logseq____&quot;^Ulogseq____&quot;,146,536870921]],[logseq____&quot;^15logseq____&quot;,[160,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9902-2a3c-426d-a1dc-d1a677291e4elogseq____&quot;,536870921]],[logseq____&quot;^15logseq____&quot;,[161,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`crankComplete`: the number of syscalls that were madelogseq____&quot;,536870921]],[logseq____&quot;^15logseq____&quot;,[161,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870921]],[logseq____&quot;^15logseq____&quot;,[161,logseq____&quot;^Flogseq____&quot;,165,536870921]],[logseq____&quot;^15logseq____&quot;,[161,logseq____&quot;^Xlogseq____&quot;,146,536870921]],[logseq____&quot;^15logseq____&quot;,[161,logseq____&quot;^Vlogseq____&quot;,176,536870921]],[logseq____&quot;^15logseq____&quot;,[161,logseq____&quot;^Ulogseq____&quot;,146,536870921]],[logseq____&quot;^15logseq____&quot;,[161,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9902-12ba-4132-b17c-91948602fd42logseq____&quot;,536870921]],[logseq____&quot;^15logseq____&quot;,[162,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`crankComplete`: the aggregate size of the delivery/notification argumentslogseq____&quot;,536870921]],[logseq____&quot;^15logseq____&quot;,[162,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870921]],[logseq____&quot;^15logseq____&quot;,[162,logseq____&quot;^Flogseq____&quot;,161,536870921]],[logseq____&quot;^15logseq____&quot;,[162,logseq____&quot;^Xlogseq____&quot;,146,536870921]],[logseq____&quot;^15logseq____&quot;,[162,logseq____&quot;^Vlogseq____&quot;,176,536870921]],[logseq____&quot;^15logseq____&quot;,[162,logseq____&quot;^Ulogseq____&quot;,146,536870921]],[logseq____&quot;^15logseq____&quot;,[162,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9902-5a0e-47a2-ac45-1e0d2ce0abf1logseq____&quot;,536870921]],[logseq____&quot;^15logseq____&quot;,[163,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`crankFailed`: the nature of the failure (we might be able to distinguish between 1: per-crank metering limit exceeded, 2: allocation limit exceed, 3: fatal syscall, 4: Meter exhausted)logseq____&quot;,536870921]],[logseq____&quot;^15logseq____&quot;,[163,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870921]],[logseq____&quot;^15logseq____&quot;,[163,logseq____&quot;^Flogseq____&quot;,180,536870921]],[logseq____&quot;^15logseq____&quot;,[163,logseq____&quot;^Xlogseq____&quot;,146,536870921]],[logseq____&quot;^15logseq____&quot;,[163,logseq____&quot;^Vlogseq____&quot;,176,536870921]],[logseq____&quot;^15logseq____&quot;,[163,logseq____&quot;^Ulogseq____&quot;,146,536870921]],[logseq____&quot;^15logseq____&quot;,[163,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9902-53ea-4d3b-a40f-2ffde276e7e9logseq____&quot;,536870921]],[logseq____&quot;^15logseq____&quot;,[164,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;vat creationlogseq____&quot;,536870921]],[logseq____&quot;^15logseq____&quot;,[164,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870921]],[logseq____&quot;^15logseq____&quot;,[164,logseq____&quot;^Flogseq____&quot;,158,536870921]],[logseq____&quot;^15logseq____&quot;,[164,logseq____&quot;^Xlogseq____&quot;,146,536870921]],[logseq____&quot;^15logseq____&quot;,[164,logseq____&quot;^Vlogseq____&quot;,172,536870921]],[logseq____&quot;^15logseq____&quot;,[164,logseq____&quot;^Ulogseq____&quot;,146,536870921]],[logseq____&quot;^15logseq____&quot;,[164,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9902-e613-40bd-b1b8-977581234a5dlogseq____&quot;,536870921]],[logseq____&quot;^15logseq____&quot;,[165,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`vatCreated:` the size of the source bundlelogseq____&quot;,536870921]],[logseq____&quot;^15logseq____&quot;,[165,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870921]],[logseq____&quot;^15logseq____&quot;,[165,logseq____&quot;^Flogseq____&quot;,176,536870921]],[logseq____&quot;^15logseq____&quot;,[165,logseq____&quot;^Xlogseq____&quot;,146,536870921]],[logseq____&quot;^15logseq____&quot;,[165,logseq____&quot;^Vlogseq____&quot;,176,536870921]],[logseq____&quot;^15logseq____&quot;,[165,logseq____&quot;^Ulogseq____&quot;,146,536870921]],[logseq____&quot;^15logseq____&quot;,[165,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9902-c595-4f1d-9ca7-6990d3f35d28logseq____&quot;,536870921]],[logseq____&quot;^15logseq____&quot;,[166,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;The kernel maintains two queues. The highest priority queue contains \\logseq____&quot;GC Actions\\logseq____&quot;, which are messages to vats that indicate an object has been garbage collected and can now be freed. These are provoked by reference-counting operations that occur as a side-effect of GC syscalls, as well as vat termination events. Each GC Action counts as a \\logseq____&quot;crank\\logseq____&quot;, and is reported to the policy object. The policy may end a block while there is still GC Action work to do, in which case the kernel will pick it back up again when the next block begins.logseq____&quot;,536870921]],[logseq____&quot;^15logseq____&quot;,[166,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870921]],[logseq____&quot;^15logseq____&quot;,[166,logseq____&quot;^Flogseq____&quot;,185,536870921]],[logseq____&quot;^15logseq____&quot;,[166,logseq____&quot;^Xlogseq____&quot;,146,536870921]],[logseq____&quot;^15logseq____&quot;,[166,logseq____&quot;^Vlogseq____&quot;,185,536870921]],[logseq____&quot;^15logseq____&quot;,[166,logseq____&quot;^Ulogseq____&quot;,146,536870921]],[logseq____&quot;^15logseq____&quot;,[166,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9902-193c-491c-b267-1baad839988blogseq____&quot;,536870921]],[logseq____&quot;^15logseq____&quot;,[167,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;# The Run Policylogseq____&quot;,536870921]],[logseq____&quot;^15logseq____&quot;,[167,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870921]],[logseq____&quot;^15logseq____&quot;,[167,logseq____&quot;^Flogseq____&quot;,146,536870921]],[logseq____&quot;^15logseq____&quot;,[167,logseq____&quot;^Xlogseq____&quot;,146,536870921]],[logseq____&quot;^15logseq____&quot;,[167,logseq____&quot;^Vlogseq____&quot;,146,536870921]],[logseq____&quot;^15logseq____&quot;,[167,logseq____&quot;^Ulogseq____&quot;,146,536870921]],[logseq____&quot;^15logseq____&quot;,[167,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^17logseq____&quot;,1],536870921]],[logseq____&quot;^15logseq____&quot;,[167,logseq____&quot;^Jlogseq____&quot;,[],536870921]],[logseq____&quot;^15logseq____&quot;,[167,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9902-45a5-43eb-a367-ad6143243773logseq____&quot;,536870921]],[logseq____&quot;^15logseq____&quot;,[168,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;The kernel does not know (ahead of time) how long the last crank will take, so this will ensure the N-1 initial cranks take less than `seconds` time.logseq____&quot;,536870921]],[logseq____&quot;^15logseq____&quot;,[168,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870921]],[logseq____&quot;^15logseq____&quot;,[168,logseq____&quot;^Flogseq____&quot;,169,536870921]],[logseq____&quot;^15logseq____&quot;,[168,logseq____&quot;^Xlogseq____&quot;,146,536870921]],[logseq____&quot;^15logseq____&quot;,[168,logseq____&quot;^Vlogseq____&quot;,159,536870921]],[logseq____&quot;^15logseq____&quot;,[168,logseq____&quot;^Ulogseq____&quot;,146,536870921]],[logseq____&quot;^15logseq____&quot;,[168,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9902-1557-4215-8b04-f1daab87ca35logseq____&quot;,536870921]],[logseq____&quot;^15logseq____&quot;,[169,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```js\\nfunction makeWallclockPolicy(seconds) {\\nlet timeout = Date.now() + 1000*seconds;\\nconst policy = harden({\\n  vatCreated: () =logseq____&gt; Date.now() logseq____&lt; timeout,\\n  crankComplete: () =logseq____&gt; Date.now() logseq____&lt; timeout,\\n  crankFailed: () =logseq____&gt; Date.now() logseq____&lt; timeout,\\n  emptyCrank: () =logseq____&gt; Date.now() logseq____&lt; timeout,\\n});\\n}\\n```logseq____&quot;,536870921]],[logseq____&quot;^15logseq____&quot;,[169,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870921]],[logseq____&quot;^15logseq____&quot;,[169,logseq____&quot;^Flogseq____&quot;,156,536870921]],[logseq____&quot;^15logseq____&quot;,[169,logseq____&quot;^Xlogseq____&quot;,146,536870921]],[logseq____&quot;^15logseq____&quot;,[169,logseq____&quot;^Vlogseq____&quot;,159,536870921]],[logseq____&quot;^15logseq____&quot;,[169,logseq____&quot;^Ulogseq____&quot;,146,536870921]],[logseq____&quot;^15logseq____&quot;,[169,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9902-4474-4075-8cae-4ab3ed0f0537logseq____&quot;,536870921]],[logseq____&quot;^15logseq____&quot;,[170,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;All methods should return `true` if the kernel should keep running, or `false` if it should stop.logseq____&quot;,536870921]],[logseq____&quot;^15logseq____&quot;,[170,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870921]],[logseq____&quot;^15logseq____&quot;,[170,logseq____&quot;^Flogseq____&quot;,178,536870921]],[logseq____&quot;^15logseq____&quot;,[170,logseq____&quot;^Xlogseq____&quot;,146,536870921]],[logseq____&quot;^15logseq____&quot;,[170,logseq____&quot;^Vlogseq____&quot;,188,536870921]],[logseq____&quot;^15logseq____&quot;,[170,logseq____&quot;^Ulogseq____&quot;,146,536870921]],[logseq____&quot;^15logseq____&quot;,[170,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9902-53ef-4ecc-ab66-c382c189899flogseq____&quot;,536870921]],[logseq____&quot;^15logseq____&quot;,[171,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`policy.crankFailed()`logseq____&quot;,536870921]],[logseq____&quot;^15logseq____&quot;,[171,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870921]],[logseq____&quot;^15logseq____&quot;,[171,logseq____&quot;^Flogseq____&quot;,196,536870921]],[logseq____&quot;^15logseq____&quot;,[171,logseq____&quot;^Xlogseq____&quot;,146,536870921]],[logseq____&quot;^15logseq____&quot;,[171,logseq____&quot;^Vlogseq____&quot;,178,536870921]],[logseq____&quot;^15logseq____&quot;,[171,logseq____&quot;^Ulogseq____&quot;,146,536870921]],[logseq____&quot;^15logseq____&quot;,[171,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9902-c415-4ab7-9a8f-126219c60135logseq____&quot;,536870921]],[logseq____&quot;^15logseq____&quot;,[172,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;If the GC Action queue is entirely empty, the kernel will look for regular work to do. **This consists of the following event types**:logseq____&quot;,536870921]],[logseq____&quot;^15logseq____&quot;,[172,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870921]],[logseq____&quot;^15logseq____&quot;,[172,logseq____&quot;^Flogseq____&quot;,166,536870921]],[logseq____&quot;^15logseq____&quot;,[172,logseq____&quot;^Xlogseq____&quot;,146,536870921]],[logseq____&quot;^15logseq____&quot;,[172,logseq____&quot;^Vlogseq____&quot;,185,536870921]],[logseq____&quot;^15logseq____&quot;,[172,logseq____&quot;^Ulogseq____&quot;,146,536870921]],[logseq____&quot;^15logseq____&quot;,[172,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9902-bb4e-4087-8653-7a3c09653231logseq____&quot;,536870921]],[logseq____&quot;^15logseq____&quot;,[173,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;A more sophisticated one would count computrons. Suppose that experiments suggest that one million computrons take about 5 seconds to execute. The policy would look like:logseq____&quot;,536870921]],[logseq____&quot;^15logseq____&quot;,[173,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870921]],[logseq____&quot;^15logseq____&quot;,[173,logseq____&quot;^Flogseq____&quot;,160,536870921]],[logseq____&quot;^15logseq____&quot;,[173,logseq____&quot;^Xlogseq____&quot;,146,536870921]],[logseq____&quot;^15logseq____&quot;,[173,logseq____&quot;^Vlogseq____&quot;,182,536870921]],[logseq____&quot;^15logseq____&quot;,[173,logseq____&quot;^Ulogseq____&quot;,146,536870921]],[logseq____&quot;^15logseq____&quot;,[173,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9902-2d25-4249-814d-3388764a40d2logseq____&quot;,536870921]],[logseq____&quot;^15logseq____&quot;,[174,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;A basic policy might simply limit the block to 100 cranks with deliveries and two vat creations:logseq____&quot;,536870921]],[logseq____&quot;^15logseq____&quot;,[174,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870921]],[logseq____&quot;^15logseq____&quot;,[174,logseq____&quot;^Flogseq____&quot;,182,536870921]],[logseq____&quot;^15logseq____&quot;,[174,logseq____&quot;^Xlogseq____&quot;,146,536870921]],[logseq____&quot;^15logseq____&quot;,[174,logseq____&quot;^Vlogseq____&quot;,182,536870921]],[logseq____&quot;^15logseq____&quot;,[174,logseq____&quot;^Ulogseq____&quot;,146,536870921]],[logseq____&quot;^15logseq____&quot;,[174,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9902-156d-464e-9a1b-35dbe326fa7alogseq____&quot;,536870921]],[logseq____&quot;^15logseq____&quot;,[175,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;When run in a suitable vat worker (`managerType: logseq____&apos;xs-workerlogseq____&apos;`), the delivery results also include the number of \\logseq____&quot;computrons\\logseq____&quot; consumed, as counted by the JS engine. Computrons are vaguely correlated to CPU cycles (despite being much larger) and thus some correspondence to wallclock time. A Run Policy which wishes to limit wallclock time in a consensus-base manner should pay attention to the cumulative computron count, and end the block after some experimentally-determined limit.logseq____&quot;,536870921]],[logseq____&quot;^15logseq____&quot;,[175,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870921]],[logseq____&quot;^15logseq____&quot;,[175,logseq____&quot;^Flogseq____&quot;,183,536870921]],[logseq____&quot;^15logseq____&quot;,[175,logseq____&quot;^Xlogseq____&quot;,146,536870921]],[logseq____&quot;^15logseq____&quot;,[175,logseq____&quot;^Vlogseq____&quot;,185,536870921]],[logseq____&quot;^15logseq____&quot;,[175,logseq____&quot;^Ulogseq____&quot;,146,536870921]],[logseq____&quot;^15logseq____&quot;,[175,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9902-248d-4033-9b2f-74471501535clogseq____&quot;,536870921]],[logseq____&quot;^15logseq____&quot;,[176,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;More arguments may be added in the future, such as:logseq____&quot;,536870921]],[logseq____&quot;^15logseq____&quot;,[176,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870921]],[logseq____&quot;^15logseq____&quot;,[176,logseq____&quot;^Flogseq____&quot;,155,536870921]],[logseq____&quot;^15logseq____&quot;,[176,logseq____&quot;^Xlogseq____&quot;,146,536870921]],[logseq____&quot;^15logseq____&quot;,[176,logseq____&quot;^Vlogseq____&quot;,188,536870921]],[logseq____&quot;^15logseq____&quot;,[176,logseq____&quot;^Ulogseq____&quot;,146,536870921]],[logseq____&quot;^15logseq____&quot;,[176,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9902-9e35-456d-8929-6e6ff326f3f7logseq____&quot;,536870921]],[logseq____&quot;^15logseq____&quot;,[177,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;To impose this limit, the host application has two choices. The first is to call `controller.step()` many times, until the limit is reached. Each invocation performs one delivery to one vat, and returns `true` if there is more work left on the run-queue, or `false` if the queue is empty. Applications could use this method if they want to impose a wallclock limit on the block (keep calling `step()` until 5 seconds have passed or it returns `false`).logseq____&quot;,536870921]],[logseq____&quot;^15logseq____&quot;,[177,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870921]],[logseq____&quot;^15logseq____&quot;,[177,logseq____&quot;^Flogseq____&quot;,184,536870921]],[logseq____&quot;^15logseq____&quot;,[177,logseq____&quot;^Xlogseq____&quot;,146,536870921]],[logseq____&quot;^15logseq____&quot;,[177,logseq____&quot;^Vlogseq____&quot;,167,536870921]],[logseq____&quot;^15logseq____&quot;,[177,logseq____&quot;^Ulogseq____&quot;,146,536870921]],[logseq____&quot;^15logseq____&quot;,[177,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9902-2e31-4d8c-9cbb-d26e45cd336alogseq____&quot;,536870921]],[logseq____&quot;^15logseq____&quot;,[178,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;The kernel will invoke the following methods on the policy object (so all must exist, even if theylogseq____&apos;re empty):logseq____&quot;,536870921]],[logseq____&quot;^15logseq____&quot;,[178,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870921]],[logseq____&quot;^15logseq____&quot;,[178,logseq____&quot;^Flogseq____&quot;,188,536870921]],[logseq____&quot;^15logseq____&quot;,[178,logseq____&quot;^Xlogseq____&quot;,146,536870921]],[logseq____&quot;^15logseq____&quot;,[178,logseq____&quot;^Vlogseq____&quot;,188,536870921]],[logseq____&quot;^15logseq____&quot;,[178,logseq____&quot;^Ulogseq____&quot;,146,536870921]],[logseq____&quot;^15logseq____&quot;,[178,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9902-ede5-4889-9320-5970d1eba31elogseq____&quot;,536870921]],[logseq____&quot;^15logseq____&quot;,[179,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;The kernel knows nothing of time, because the kernel is specifically deterministic. If you want to use wallclock time (which is inherently non-deterministic across the separate nodes of a consensus machine), the run policy is responsible for bringing its own source of nondeterminism.logseq____&quot;,536870921]],[logseq____&quot;^15logseq____&quot;,[179,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870921]],[logseq____&quot;^15logseq____&quot;,[179,logseq____&quot;^Flogseq____&quot;,168,536870921]],[logseq____&quot;^15logseq____&quot;,[179,logseq____&quot;^Xlogseq____&quot;,146,536870921]],[logseq____&quot;^15logseq____&quot;,[179,logseq____&quot;^Vlogseq____&quot;,159,536870921]],[logseq____&quot;^15logseq____&quot;,[179,logseq____&quot;^Ulogseq____&quot;,146,536870921]],[logseq____&quot;^15logseq____&quot;,[179,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9902-43a1-40a7-a3dd-941a11c45e03logseq____&quot;,536870921]],[logseq____&quot;^15logseq____&quot;,[180,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`crankFailed`: the number of computrons consumed before the failurelogseq____&quot;,536870921]],[logseq____&quot;^15logseq____&quot;,[180,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870921]],[logseq____&quot;^15logseq____&quot;,[180,logseq____&quot;^Flogseq____&quot;,186,536870921]],[logseq____&quot;^15logseq____&quot;,[180,logseq____&quot;^Xlogseq____&quot;,146,536870921]],[logseq____&quot;^15logseq____&quot;,[180,logseq____&quot;^Vlogseq____&quot;,176,536870921]],[logseq____&quot;^15logseq____&quot;,[180,logseq____&quot;^Ulogseq____&quot;,146,536870921]],[logseq____&quot;^15logseq____&quot;,[180,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9902-2993-4207-8303-98d498267e9dlogseq____&quot;,536870921]],[logseq____&quot;^15logseq____&quot;,[181,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;But the more sophisticated approach is to call `controller.run(policy)`, with a \\logseq____&quot;Run Policy\\logseq____&quot; object that knows when the block should end. The policy object will get detailed information about each delivery, including the metering results (how many low-level JS engine operations were performed), and can use this to guide the block size.logseq____&quot;,536870921]],[logseq____&quot;^15logseq____&quot;,[181,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870921]],[logseq____&quot;^15logseq____&quot;,[181,logseq____&quot;^Flogseq____&quot;,177,536870921]],[logseq____&quot;^15logseq____&quot;,[181,logseq____&quot;^Xlogseq____&quot;,146,536870921]],[logseq____&quot;^15logseq____&quot;,[181,logseq____&quot;^Vlogseq____&quot;,167,536870921]],[logseq____&quot;^15logseq____&quot;,[181,logseq____&quot;^Ulogseq____&quot;,146,536870921]],[logseq____&quot;^15logseq____&quot;,[181,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9902-1651-46c8-8690-76dce53b5cb8logseq____&quot;,536870921]],[logseq____&quot;^15logseq____&quot;,[182,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## Typical Run Policieslogseq____&quot;,536870921]],[logseq____&quot;^15logseq____&quot;,[182,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870921]],[logseq____&quot;^15logseq____&quot;,[182,logseq____&quot;^Flogseq____&quot;,194,536870921]],[logseq____&quot;^15logseq____&quot;,[182,logseq____&quot;^Xlogseq____&quot;,146,536870921]],[logseq____&quot;^15logseq____&quot;,[182,logseq____&quot;^Vlogseq____&quot;,146,536870921]],[logseq____&quot;^15logseq____&quot;,[182,logseq____&quot;^Ulogseq____&quot;,146,536870921]],[logseq____&quot;^15logseq____&quot;,[182,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^17logseq____&quot;,2],536870921]],[logseq____&quot;^15logseq____&quot;,[182,logseq____&quot;^Jlogseq____&quot;,[],536870921]],[logseq____&quot;^15logseq____&quot;,[182,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9902-1cb6-4dbe-a5a7-1b243e619ac2logseq____&quot;,536870921]],[logseq____&quot;^15logseq____&quot;,[183,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;Each message delivery and resolution notification causes (at most) one vat to execute one \\logseq____&quot;crank\\logseq____&quot; (it might not execute any crank, e.g. when a message is delivered to an unresolved promise, it just gets added to the promiselogseq____&apos;s queue). This crank gives the vat some amount of time to process the delivery, during which it may invoke any number of syscalls. The crank might cause the vat to be terminated, either because of an error, or because it took too much CPU and exceeded its Meterlogseq____&apos;s allowance. Each crank yields a \\logseq____&quot;delivery results object\\logseq____&quot;, which indicates the success or failure of the delivery.logseq____&quot;,536870921]],[logseq____&quot;^15logseq____&quot;,[183,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870921]],[logseq____&quot;^15logseq____&quot;,[183,logseq____&quot;^Flogseq____&quot;,172,536870921]],[logseq____&quot;^15logseq____&quot;,[183,logseq____&quot;^Xlogseq____&quot;,146,536870921]],[logseq____&quot;^15logseq____&quot;,[183,logseq____&quot;^Vlogseq____&quot;,185,536870921]],[logseq____&quot;^15logseq____&quot;,[183,logseq____&quot;^Ulogseq____&quot;,146,536870921]],[logseq____&quot;^15logseq____&quot;,[183,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9902-3ffd-4f2a-bc4d-3b3f659933ddlogseq____&quot;,536870921]],[logseq____&quot;^15logseq____&quot;,[184,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;The host is responsible for committing the SwingSet state to durable storage (i.e. `swingstore.commit()`) at the end of a block. Outbound messages are embargoed until after this commit point, to prevent \\logseq____&quot;hangover inconsistency\\logseq____&quot; from revealing state that might still get unwound. Large block sizes are generally more efficient, however 1: they increase latency, because outbound reply messages cannot be delivered until the end of the block, and 2: they increase the likelihood of losing progress because of a crash or other interrupt during the block. Depending upon the application, it may be appropriate to limit blocks to 5-10 seconds of computation.logseq____&quot;,536870921]],[logseq____&quot;^15logseq____&quot;,[184,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870921]],[logseq____&quot;^15logseq____&quot;,[184,logseq____&quot;^Flogseq____&quot;,193,536870921]],[logseq____&quot;^15logseq____&quot;,[184,logseq____&quot;^Xlogseq____&quot;,146,536870921]],[logseq____&quot;^15logseq____&quot;,[184,logseq____&quot;^Vlogseq____&quot;,167,536870921]],[logseq____&quot;^15logseq____&quot;,[184,logseq____&quot;^Ulogseq____&quot;,146,536870921]],[logseq____&quot;^15logseq____&quot;,[184,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9902-a978-4f8d-a235-e9a183365866logseq____&quot;,536870921]],[logseq____&quot;^15logseq____&quot;,[185,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## Crankslogseq____&quot;,536870921]],[logseq____&quot;^15logseq____&quot;,[185,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870921]],[logseq____&quot;^15logseq____&quot;,[185,logseq____&quot;^Flogseq____&quot;,167,536870921]],[logseq____&quot;^15logseq____&quot;,[185,logseq____&quot;^Xlogseq____&quot;,146,536870921]],[logseq____&quot;^15logseq____&quot;,[185,logseq____&quot;^Vlogseq____&quot;,146,536870921]],[logseq____&quot;^15logseq____&quot;,[185,logseq____&quot;^Ulogseq____&quot;,146,536870921]],[logseq____&quot;^15logseq____&quot;,[185,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^17logseq____&quot;,2],536870921]],[logseq____&quot;^15logseq____&quot;,[185,logseq____&quot;^Jlogseq____&quot;,[],536870921]],[logseq____&quot;^15logseq____&quot;,[185,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9902-7eac-4913-b8df-456a521777c7logseq____&quot;,536870921]],[logseq____&quot;^15logseq____&quot;,[186,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;* (the first message delivered to each ZCF contract vat contains a very large contract source bundle, and takes considerable time to execute, and this would let the policy treat these cranks accordingly)logseq____&quot;,536870921]],[logseq____&quot;^15logseq____&quot;,[186,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870921]],[logseq____&quot;^15logseq____&quot;,[186,logseq____&quot;^Flogseq____&quot;,162,536870921]],[logseq____&quot;^15logseq____&quot;,[186,logseq____&quot;^Xlogseq____&quot;,146,536870921]],[logseq____&quot;^15logseq____&quot;,[186,logseq____&quot;^Vlogseq____&quot;,176,536870921]],[logseq____&quot;^15logseq____&quot;,[186,logseq____&quot;^Ulogseq____&quot;,146,536870921]],[logseq____&quot;^15logseq____&quot;,[186,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9902-38e7-4bd0-9dd3-12be8833818blogseq____&quot;,536870921]],[logseq____&quot;^15logseq____&quot;,[187,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;message deliveries to vats (provoked by `syscall.send`, delivered as `dispatch.deliver`)logseq____&quot;,536870921]],[logseq____&quot;^15logseq____&quot;,[187,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870921]],[logseq____&quot;^15logseq____&quot;,[187,logseq____&quot;^Flogseq____&quot;,172,536870921]],[logseq____&quot;^15logseq____&quot;,[187,logseq____&quot;^Xlogseq____&quot;,146,536870921]],[logseq____&quot;^15logseq____&quot;,[187,logseq____&quot;^Vlogseq____&quot;,172,536870921]],[logseq____&quot;^15logseq____&quot;,[187,logseq____&quot;^Ulogseq____&quot;,146,536870921]],[logseq____&quot;^15logseq____&quot;,[187,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9902-794b-47f2-99fd-2c66393cf5fclogseq____&quot;,536870921]],[logseq____&quot;^15logseq____&quot;,[188,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## Run Policylogseq____&quot;,536870921]],[logseq____&quot;^15logseq____&quot;,[188,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870921]],[logseq____&quot;^15logseq____&quot;,[188,logseq____&quot;^Flogseq____&quot;,185,536870921]],[logseq____&quot;^15logseq____&quot;,[188,logseq____&quot;^Xlogseq____&quot;,146,536870921]],[logseq____&quot;^15logseq____&quot;,[188,logseq____&quot;^Vlogseq____&quot;,146,536870921]],[logseq____&quot;^15logseq____&quot;,[188,logseq____&quot;^Ulogseq____&quot;,146,536870921]],[logseq____&quot;^15logseq____&quot;,[188,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^17logseq____&quot;,2],536870921]],[logseq____&quot;^15logseq____&quot;,[188,logseq____&quot;^Jlogseq____&quot;,[],536870921]],[logseq____&quot;^15logseq____&quot;,[188,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9902-c352-4f5c-9a52-83ac44401ea8logseq____&quot;,536870921]],[logseq____&quot;^15logseq____&quot;,[189,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`policy.emptyCrank()`logseq____&quot;,536870921]],[logseq____&quot;^15logseq____&quot;,[189,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870921]],[logseq____&quot;^15logseq____&quot;,[189,logseq____&quot;^Flogseq____&quot;,171,536870921]],[logseq____&quot;^15logseq____&quot;,[189,logseq____&quot;^Xlogseq____&quot;,146,536870921]],[logseq____&quot;^15logseq____&quot;,[189,logseq____&quot;^Vlogseq____&quot;,178,536870921]],[logseq____&quot;^15logseq____&quot;,[189,logseq____&quot;^Ulogseq____&quot;,146,536870921]],[logseq____&quot;^15logseq____&quot;,[189,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9902-7067-4f1a-957d-f7c82c88c8bdlogseq____&quot;,536870921]],[logseq____&quot;^15logseq____&quot;,[190,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;The SwingSet kernel maintains a queue of pending operations to execute: mostly deliveries to vats and promise resolution notifications. This queue may be sizable, and each operation may provoke more work to be added to the list.logseq____&quot;,536870921]],[logseq____&quot;^15logseq____&quot;,[190,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870921]],[logseq____&quot;^15logseq____&quot;,[190,logseq____&quot;^Flogseq____&quot;,167,536870921]],[logseq____&quot;^15logseq____&quot;,[190,logseq____&quot;^Xlogseq____&quot;,146,536870921]],[logseq____&quot;^15logseq____&quot;,[190,logseq____&quot;^Vlogseq____&quot;,167,536870921]],[logseq____&quot;^15logseq____&quot;,[190,logseq____&quot;^Ulogseq____&quot;,146,536870921]],[logseq____&quot;^15logseq____&quot;,[190,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9902-5fa3-4dd7-ae51-fb618f023289logseq____&quot;,536870921]],[logseq____&quot;^15logseq____&quot;,[191,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`policy.vatCreated()`logseq____&quot;,536870921]],[logseq____&quot;^15logseq____&quot;,[191,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870921]],[logseq____&quot;^15logseq____&quot;,[191,logseq____&quot;^Flogseq____&quot;,178,536870921]],[logseq____&quot;^15logseq____&quot;,[191,logseq____&quot;^Xlogseq____&quot;,146,536870921]],[logseq____&quot;^15logseq____&quot;,[191,logseq____&quot;^Vlogseq____&quot;,178,536870921]],[logseq____&quot;^15logseq____&quot;,[191,logseq____&quot;^Ulogseq____&quot;,146,536870921]],[logseq____&quot;^15logseq____&quot;,[191,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9902-6d38-4613-bafc-ef8ec86bbabdlogseq____&quot;,536870921]],[logseq____&quot;^15logseq____&quot;,[192,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;Vat creation also gives a single vat (the brand new one) time to run the top-level forms of its source bundle, as well as the invocation of its `buildRootObject()` method. This typically takes considerably longer than the subsequent messages, and is not currently metered.logseq____&quot;,536870921]],[logseq____&quot;^15logseq____&quot;,[192,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870921]],[logseq____&quot;^15logseq____&quot;,[192,logseq____&quot;^Flogseq____&quot;,175,536870921]],[logseq____&quot;^15logseq____&quot;,[192,logseq____&quot;^Xlogseq____&quot;,146,536870921]],[logseq____&quot;^15logseq____&quot;,[192,logseq____&quot;^Vlogseq____&quot;,185,536870921]],[logseq____&quot;^15logseq____&quot;,[192,logseq____&quot;^Ulogseq____&quot;,146,536870921]],[logseq____&quot;^15logseq____&quot;,[192,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9902-ebc1-4e1d-a0fe-99732e50d1a9logseq____&quot;,536870921]],[logseq____&quot;^15logseq____&quot;,[193,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;SwingSet manages its own prioritization and scheduling for this workload, but it does not get to decide how much work should be done at a time. The host applications breaks this work up into \\logseq____&quot;blocks\\logseq____&quot;. We colloquially describe this as the \\logseq____&quot;block size\\logseq____&quot;: in the SwingSet context this refers to the number of deliveries (\\logseq____&quot;cranks\\logseq____&quot;) performed before declaring the block to be finished, rather than measuring the number of bytes in some host application consensus data structure.logseq____&quot;,536870921]],[logseq____&quot;^15logseq____&quot;,[193,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870921]],[logseq____&quot;^15logseq____&quot;,[193,logseq____&quot;^Flogseq____&quot;,190,536870921]],[logseq____&quot;^15logseq____&quot;,[193,logseq____&quot;^Xlogseq____&quot;,146,536870921]],[logseq____&quot;^15logseq____&quot;,[193,logseq____&quot;^Vlogseq____&quot;,167,536870921]],[logseq____&quot;^15logseq____&quot;,[193,logseq____&quot;^Ulogseq____&quot;,146,536870921]],[logseq____&quot;^15logseq____&quot;,[193,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9902-2eb4-487c-b86b-2a6a7fda422elogseq____&quot;,536870921]],[logseq____&quot;^15logseq____&quot;,[194,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;The run policy should be provided as the first argument to `controller.run()`. If omitted, the kernel defaults to `forever`, a policy that runs until the queue is empty.logseq____&quot;,536870921]],[logseq____&quot;^15logseq____&quot;,[194,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870921]],[logseq____&quot;^15logseq____&quot;,[194,logseq____&quot;^Flogseq____&quot;,188,536870921]],[logseq____&quot;^15logseq____&quot;,[194,logseq____&quot;^Xlogseq____&quot;,146,536870921]],[logseq____&quot;^15logseq____&quot;,[194,logseq____&quot;^Vlogseq____&quot;,146,536870921]],[logseq____&quot;^15logseq____&quot;,[194,logseq____&quot;^Ulogseq____&quot;,146,536870921]],[logseq____&quot;^15logseq____&quot;,[194,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9902-68e9-4c9b-b84a-ad9c5f2f9caalogseq____&quot;,536870921]],[logseq____&quot;^15logseq____&quot;,[195,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;The `computrons` argument may be `undefined` (e.g. if the crank was delivered to a non-`xs worker`-based vat, such as the comms vat). The policy should probably treat this as equivalent to some \\logseq____&quot;typical\\logseq____&quot; number of computrons.logseq____&quot;,536870921]],[logseq____&quot;^15logseq____&quot;,[195,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870921]],[logseq____&quot;^15logseq____&quot;,[195,logseq____&quot;^Flogseq____&quot;,170,536870921]],[logseq____&quot;^15logseq____&quot;,[195,logseq____&quot;^Xlogseq____&quot;,146,536870921]],[logseq____&quot;^15logseq____&quot;,[195,logseq____&quot;^Vlogseq____&quot;,188,536870921]],[logseq____&quot;^15logseq____&quot;,[195,logseq____&quot;^Ulogseq____&quot;,146,536870921]],[logseq____&quot;^15logseq____&quot;,[195,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9902-0ffc-4188-948f-b92c51600663logseq____&quot;,536870921]],[logseq____&quot;^15logseq____&quot;,[196,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`policy.crankComplete({ computrons })`logseq____&quot;,536870921]],[logseq____&quot;^15logseq____&quot;,[196,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870921]],[logseq____&quot;^15logseq____&quot;,[196,logseq____&quot;^Flogseq____&quot;,191,536870921]],[logseq____&quot;^15logseq____&quot;,[196,logseq____&quot;^Xlogseq____&quot;,146,536870921]],[logseq____&quot;^15logseq____&quot;,[196,logseq____&quot;^Vlogseq____&quot;,178,536870921]],[logseq____&quot;^15logseq____&quot;,[196,logseq____&quot;^Ulogseq____&quot;,146,536870921]],[logseq____&quot;^15logseq____&quot;,[196,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9902-e192-4019-a8d8-dfc9f96d3231logseq____&quot;,536870921]],[logseq____&quot;^15logseq____&quot;,[198,logseq____&quot;^Klogseq____&quot;,1725602050301,536870922]],[logseq____&quot;^15logseq____&quot;,[198,logseq____&quot;^@logseq____&quot;,false,536870922]],[logseq____&quot;^15logseq____&quot;,[198,logseq____&quot;^Ylogseq____&quot;,logseq____&quot;toolslogseq____&quot;,536870922]],[logseq____&quot;^15logseq____&quot;,[198,logseq____&quot;^11logseq____&quot;,logseq____&quot;Toolslogseq____&quot;,536870922]],[logseq____&quot;^15logseq____&quot;,[198,logseq____&quot;^Blogseq____&quot;,1725602050301,536870922]],[logseq____&quot;^15logseq____&quot;,[198,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9902-07cb-490b-84e4-87de5421683flogseq____&quot;,536870922]],[logseq____&quot;^15logseq____&quot;,[199,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;Rather than write out \\logseq____&quot;javascript\\logseq____&quot; or \\logseq____&quot;reactjs\\logseq____&quot; or \\logseq____&quot;tailwindcss\\logseq____&quot;, I use two-letter identifiers that I configure immediately after downloading a docset.\\nlogseq.order-list-type:: numberlogseq____&quot;,536870922]],[logseq____&quot;^15logseq____&quot;,[199,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870922]],[logseq____&quot;^15logseq____&quot;,[199,logseq____&quot;^Flogseq____&quot;,210,536870922]],[logseq____&quot;^15logseq____&quot;,[199,logseq____&quot;^Xlogseq____&quot;,198,536870922]],[logseq____&quot;^15logseq____&quot;,[199,logseq____&quot;^Vlogseq____&quot;,209,536870922]],[logseq____&quot;^15logseq____&quot;,[199,logseq____&quot;^Ulogseq____&quot;,198,536870922]],[logseq____&quot;^15logseq____&quot;,[199,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;~:logseq.order-list-typelogseq____&quot;,logseq____&quot;numberlogseq____&quot;],536870922]],[logseq____&quot;^15logseq____&quot;,[199,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^18logseq____&quot;],536870922]],[logseq____&quot;^15logseq____&quot;,[199,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^18logseq____&quot;,logseq____&quot;numberlogseq____&quot;],536870922]],[logseq____&quot;^15logseq____&quot;,[199,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9902-5960-44e4-a62b-d2cd37b6b275logseq____&quot;,536870922]],[logseq____&quot;^15logseq____&quot;,[200,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;logseq____&gt; *javascript --logseq____&gt; js*\\n*reactjs --logseq____&gt; re*\\n*tailwindcss --logseq____&gt; tw*logseq____&quot;,536870922]],[logseq____&quot;^15logseq____&quot;,[200,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870922]],[logseq____&quot;^15logseq____&quot;,[200,logseq____&quot;^Flogseq____&quot;,209,536870922]],[logseq____&quot;^15logseq____&quot;,[200,logseq____&quot;^Xlogseq____&quot;,198,536870922]],[logseq____&quot;^15logseq____&quot;,[200,logseq____&quot;^Vlogseq____&quot;,203,536870922]],[logseq____&quot;^15logseq____&quot;,[200,logseq____&quot;^Ulogseq____&quot;,198,536870922]],[logseq____&quot;^15logseq____&quot;,[200,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9902-c743-46a1-9282-d7935fbcfed6logseq____&quot;,536870922]],[logseq____&quot;^15logseq____&quot;,[201,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;[Website](https://www.kapeli.com/dash)logseq____&quot;,536870922]],[logseq____&quot;^15logseq____&quot;,[201,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870922]],[logseq____&quot;^15logseq____&quot;,[201,logseq____&quot;^Flogseq____&quot;,207,536870922]],[logseq____&quot;^15logseq____&quot;,[201,logseq____&quot;^Xlogseq____&quot;,198,536870922]],[logseq____&quot;^15logseq____&quot;,[201,logseq____&quot;^Vlogseq____&quot;,203,536870922]],[logseq____&quot;^15logseq____&quot;,[201,logseq____&quot;^Ulogseq____&quot;,198,536870922]],[logseq____&quot;^15logseq____&quot;,[201,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9902-5004-475f-9bea-1cbe53d0d73dlogseq____&quot;,536870922]],[logseq____&quot;^15logseq____&quot;,[202,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;[Website](https://www.warp.dev)logseq____&quot;,536870922]],[logseq____&quot;^15logseq____&quot;,[202,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870922]],[logseq____&quot;^15logseq____&quot;,[202,logseq____&quot;^Flogseq____&quot;,205,536870922]],[logseq____&quot;^15logseq____&quot;,[202,logseq____&quot;^Xlogseq____&quot;,198,536870922]],[logseq____&quot;^15logseq____&quot;,[202,logseq____&quot;^Vlogseq____&quot;,204,536870922]],[logseq____&quot;^15logseq____&quot;,[202,logseq____&quot;^Ulogseq____&quot;,198,536870922]],[logseq____&quot;^15logseq____&quot;,[202,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9902-da59-44f0-97c6-3f0758cca6cdlogseq____&quot;,536870922]],[logseq____&quot;^15logseq____&quot;,[203,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## Kapeli Dashlogseq____&quot;,536870922]],[logseq____&quot;^15logseq____&quot;,[203,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870922]],[logseq____&quot;^15logseq____&quot;,[203,logseq____&quot;^Flogseq____&quot;,198,536870922]],[logseq____&quot;^15logseq____&quot;,[203,logseq____&quot;^Xlogseq____&quot;,198,536870922]],[logseq____&quot;^15logseq____&quot;,[203,logseq____&quot;^Vlogseq____&quot;,198,536870922]],[logseq____&quot;^15logseq____&quot;,[203,logseq____&quot;^Ulogseq____&quot;,198,536870922]],[logseq____&quot;^15logseq____&quot;,[203,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^17logseq____&quot;,2],536870922]],[logseq____&quot;^15logseq____&quot;,[203,logseq____&quot;^Jlogseq____&quot;,[],536870922]],[logseq____&quot;^15logseq____&quot;,[203,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9902-b1be-43f9-84d4-b6584e40e02alogseq____&quot;,536870922]],[logseq____&quot;^15logseq____&quot;,[204,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## Warplogseq____&quot;,536870922]],[logseq____&quot;^15logseq____&quot;,[204,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870922]],[logseq____&quot;^15logseq____&quot;,[204,logseq____&quot;^Flogseq____&quot;,203,536870922]],[logseq____&quot;^15logseq____&quot;,[204,logseq____&quot;^Xlogseq____&quot;,198,536870922]],[logseq____&quot;^15logseq____&quot;,[204,logseq____&quot;^Vlogseq____&quot;,198,536870922]],[logseq____&quot;^15logseq____&quot;,[204,logseq____&quot;^Ulogseq____&quot;,198,536870922]],[logseq____&quot;^15logseq____&quot;,[204,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^17logseq____&quot;,2],536870922]],[logseq____&quot;^15logseq____&quot;,[204,logseq____&quot;^Jlogseq____&quot;,[],536870922]],[logseq____&quot;^15logseq____&quot;,[204,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9902-9e68-4224-81b9-e3431f63fcc0logseq____&quot;,536870922]],[logseq____&quot;^15logseq____&quot;,[205,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;Warp terminal came into my life pretty soon after it was initially released. It boasted great performance, and it has held up itlogseq____&apos;s end of the bargain. Also, I recently received a surge of people signing up with my referall link which led to me acquiring a very comfy t-shirt in addition to some stickers. If thatlogseq____&apos;s not defensibility, Ilogseq____&apos;m not sure what is.logseq____&quot;,536870922]],[logseq____&quot;^15logseq____&quot;,[205,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870922]],[logseq____&quot;^15logseq____&quot;,[205,logseq____&quot;^Flogseq____&quot;,204,536870922]],[logseq____&quot;^15logseq____&quot;,[205,logseq____&quot;^Xlogseq____&quot;,198,536870922]],[logseq____&quot;^15logseq____&quot;,[205,logseq____&quot;^Vlogseq____&quot;,204,536870922]],[logseq____&quot;^15logseq____&quot;,[205,logseq____&quot;^Ulogseq____&quot;,198,536870922]],[logseq____&quot;^15logseq____&quot;,[205,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9902-09d8-45cf-84b7-4d220a328d98logseq____&quot;,536870922]],[logseq____&quot;^15logseq____&quot;,[206,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;logseq____&quot;,536870922]],[logseq____&quot;^15logseq____&quot;,[206,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870922]],[logseq____&quot;^15logseq____&quot;,[206,logseq____&quot;^Flogseq____&quot;,204,536870922]],[logseq____&quot;^15logseq____&quot;,[206,logseq____&quot;^Xlogseq____&quot;,198,536870922]],[logseq____&quot;^15logseq____&quot;,[206,logseq____&quot;^Vlogseq____&quot;,198,536870922]],[logseq____&quot;^15logseq____&quot;,[206,logseq____&quot;^Ulogseq____&quot;,198,536870922]],[logseq____&quot;^15logseq____&quot;,[206,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9902-fd87-4e57-aa49-67bce586e715logseq____&quot;,536870922]],[logseq____&quot;^15logseq____&quot;,[207,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;{{video https://s3.filebase.com/public-content/4c54c288-e88f-4c4e-bb4f-57e26b4fd297/ss_09062024_000502.mp4}}logseq____&quot;,536870922]],[logseq____&quot;^15logseq____&quot;,[207,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870922]],[logseq____&quot;^15logseq____&quot;,[207,logseq____&quot;^Flogseq____&quot;,200,536870922]],[logseq____&quot;^15logseq____&quot;,[207,logseq____&quot;^Slogseq____&quot;,212,536870922]],[logseq____&quot;^15logseq____&quot;,[207,logseq____&quot;^Xlogseq____&quot;,198,536870922]],[logseq____&quot;^15logseq____&quot;,[207,logseq____&quot;^Vlogseq____&quot;,203,536870922]],[logseq____&quot;^15logseq____&quot;,[207,logseq____&quot;^Ulogseq____&quot;,198,536870922]],[logseq____&quot;^15logseq____&quot;,[207,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9902-934a-4966-8fb3-58babff3f6e6logseq____&quot;,536870922]],[logseq____&quot;^15logseq____&quot;,[208,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;I use my hotkey, `ctrl-d`, to summon dash from the shadows.\\nlogseq.order-list-type:: numberlogseq____&quot;,536870922]],[logseq____&quot;^15logseq____&quot;,[208,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870922]],[logseq____&quot;^15logseq____&quot;,[208,logseq____&quot;^Flogseq____&quot;,209,536870922]],[logseq____&quot;^15logseq____&quot;,[208,logseq____&quot;^Xlogseq____&quot;,198,536870922]],[logseq____&quot;^15logseq____&quot;,[208,logseq____&quot;^Vlogseq____&quot;,209,536870922]],[logseq____&quot;^15logseq____&quot;,[208,logseq____&quot;^Ulogseq____&quot;,198,536870922]],[logseq____&quot;^15logseq____&quot;,[208,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^18logseq____&quot;,logseq____&quot;numberlogseq____&quot;],536870922]],[logseq____&quot;^15logseq____&quot;,[208,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^18logseq____&quot;],536870922]],[logseq____&quot;^15logseq____&quot;,[208,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^18logseq____&quot;,logseq____&quot;numberlogseq____&quot;],536870922]],[logseq____&quot;^15logseq____&quot;,[208,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9902-2a93-47b0-912e-ad14a60c9d31logseq____&quot;,536870922]],[logseq____&quot;^15logseq____&quot;,[209,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;In the video below I provide a look into what it actually looks like when i use the application.logseq____&quot;,536870922]],[logseq____&quot;^15logseq____&quot;,[209,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870922]],[logseq____&quot;^15logseq____&quot;,[209,logseq____&quot;^Flogseq____&quot;,211,536870922]],[logseq____&quot;^15logseq____&quot;,[209,logseq____&quot;^Xlogseq____&quot;,198,536870922]],[logseq____&quot;^15logseq____&quot;,[209,logseq____&quot;^Vlogseq____&quot;,203,536870922]],[logseq____&quot;^15logseq____&quot;,[209,logseq____&quot;^Ulogseq____&quot;,198,536870922]],[logseq____&quot;^15logseq____&quot;,[209,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9902-5fe3-40bb-a56f-91465a640a42logseq____&quot;,536870922]],[logseq____&quot;^15logseq____&quot;,[210,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`cmd+l` gets my cursor focused into the search bar.\\nlogseq.order-list-type:: numberlogseq____&quot;,536870922]],[logseq____&quot;^15logseq____&quot;,[210,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870922]],[logseq____&quot;^15logseq____&quot;,[210,logseq____&quot;^Flogseq____&quot;,208,536870922]],[logseq____&quot;^15logseq____&quot;,[210,logseq____&quot;^Xlogseq____&quot;,198,536870922]],[logseq____&quot;^15logseq____&quot;,[210,logseq____&quot;^Vlogseq____&quot;,209,536870922]],[logseq____&quot;^15logseq____&quot;,[210,logseq____&quot;^Ulogseq____&quot;,198,536870922]],[logseq____&quot;^15logseq____&quot;,[210,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^18logseq____&quot;,logseq____&quot;numberlogseq____&quot;],536870922]],[logseq____&quot;^15logseq____&quot;,[210,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^18logseq____&quot;],536870922]],[logseq____&quot;^15logseq____&quot;,[210,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^18logseq____&quot;,logseq____&quot;numberlogseq____&quot;],536870922]],[logseq____&quot;^15logseq____&quot;,[210,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9902-88ca-4d3b-88ac-d1d482b1f1d8logseq____&quot;,536870922]],[logseq____&quot;^15logseq____&quot;,[211,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;Dash is the undisputed champion. I learned about the application in late 2013, meaning that it has played a pivotal role throughout the entirety of my developer journey.logseq____&quot;,536870922]],[logseq____&quot;^15logseq____&quot;,[211,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^16logseq____&quot;,536870922]],[logseq____&quot;^15logseq____&quot;,[211,logseq____&quot;^Flogseq____&quot;,203,536870922]],[logseq____&quot;^15logseq____&quot;,[211,logseq____&quot;^Xlogseq____&quot;,198,536870922]],[logseq____&quot;^15logseq____&quot;,[211,logseq____&quot;^Vlogseq____&quot;,203,536870922]],[logseq____&quot;^15logseq____&quot;,[211,logseq____&quot;^Ulogseq____&quot;,198,536870922]],[logseq____&quot;^15logseq____&quot;,[211,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66da9902-b099-4e85-9188-dd774726c657logseq____&quot;,536870922]],[logseq____&quot;^15logseq____&quot;,[212,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;~:logseq.macro-namelogseq____&quot;,logseq____&quot;videologseq____&quot;,logseq____&quot;~:logseq.macro-argumentslogseq____&quot;,[logseq____&quot;https://s3.filebase.com/public-content/4c54c288-e88f-4c4e-bb4f-57e26b4fd297/ss_09062024_000502.mp4logseq____&quot;]],536870922]],[logseq____&quot;^15logseq____&quot;,[212,logseq____&quot;^Wlogseq____&quot;,logseq____&quot;macrologseq____&quot;,536870922]],[logseq____&quot;^15logseq____&quot;,[212,logseq____&quot;^Tlogseq____&quot;,logseq____&quot;video https://s3.filebase.com/public-content/4c54c288-e88f-4c4e-bb4f-57e26b4fd297/ss_09062024_000502.mp4logseq____&quot;,536870922]]]]]]"</script>
 <script>window.logseq_state="{:ui/theme \"light\", :ui/radix-color :blue, :config {\"local\" {:shortcuts {}, :default-templates {:journals \"\"}, :query/views {:pprint (fn [r] [:pre.code (pprint r)])}, :macros {}, :shortcut/doc-mode-enter-for-new-block? false, :favorites [], :ui/show-empty-bullets? false, :file/name-format :triple-lowbar, :preferred-workflow :now, :publishing/all-pages-public? true, :ref/default-open-blocks-level 2, :feature/enable-block-timestamps? false, :start-of-week 6, :ref/linked-references-collapsed-threshold 50, :outliner/block-title-collapse-enabled? false, :commands [], :ui/show-full-blocks? true, :meta/version 1, :hidden [], :default-queries {:journals [{:title \"🔨 NOW\", :query [:find (pull ?h [*]) :in $ ?start ?today :where [?h :block/marker ?marker] [(contains? #{\"NOW\" \"DOING\"} ?marker)] [?h :block/page ?p] [?p :block/journal? true] [?p :block/journal-day ?d] [(>= ?d ?start)] [(<= ?d ?today)]], :inputs [:14d :today], :result-transform (fn [result] (sort-by (fn [h] (get h :block/priority \"Z\")) result)), :group-by-page? false, :collapsed? false} {:title \"📅 NEXT\", :query [:find (pull ?h [*]) :in $ ?start ?next :where [?h :block/marker ?marker] [(contains? #{\"NOW\" \"LATER\" \"TODO\"} ?marker)] [?h :block/page ?p] [?p :block/journal? true] [?p :block/journal-day ?d] [(> ?d ?start)] [(< ?d ?next)]], :inputs [:today :7d-after], :group-by-page? false, :collapsed? false}]}, :ui/auto-expand-block-refs? true, :ui/enable-tooltip? true, :query/result-transforms {:sort-by-priority (fn [result] (sort-by (fn [h] (get h :block/priority \"Z\")) result))}, :property-pages/enabled? true, :block/content-max-length 10000, :ui/show-command-doc? true, :feature/enable-search-remove-accents? true}}}"</script>
 <script type="text/javascript">// Single Page Apps for GitHub Pages
      // https://github.com/rafgraph/spa-github-pages
      // Copyright (c) 2016 Rafael Pedicini, licensed under the MIT License
      // ----------------------------------------------------------------------
      // This script checks to see if a redirect is present in the query string
      // and converts it back into the correct url and adds it to the
      // browser's history using window.history.replaceState(...),
      // which won't cause the browser to attempt to load the new url.
      // When the single page app is loaded further down in this file,
      // the correct url will be waiting in the browser's history for
      // the single page app to route accordingly.
      (function(l) {
        if (l.search) {
          var q = {};
          l.search.slice(1).split('&').forEach(function(v) {
            var a = v.split('=');
            q[a[0]] = a.slice(1).join('=').replace(/~and~/g, '&');
          });
          if (q.p !== undefined) {
            window.history.replaceState(null, null,
              l.pathname.slice(0, -1) + (q.p || '') +
              (q.q ? ('?' + q.q) : '') +
              l.hash
            );
          }
        }
      }(window.location))</script>
 <script src="static/js/react.production.min.js"></script>
 <script src="static/js/react-dom.production.min.js"></script>
 <script src="static/js/ui.js"></script>
 <script src="static/js/main.js"></script>
 <script src="static/js/interact.min.js"></script>
 <script src="static/js/highlight.min.js"></script>
 <script src="static/js/katex.min.js"></script>
 <script src="static/js/html2canvas.min.js"></script>
 <script src="static/js/code-editor.js"></script>
 <script src="static/js/custom.js"></script>
</body>
